<html><head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Chapter&nbsp;2.&nbsp;Defining Authentication Services</title><link rel="stylesheet" type="text/css" href="coredoc.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="OpenAM Administration Guide"><link rel="up" href="index.html" title="OpenAM Administration Guide"><link rel="prev" href="ch01.html" title="Chapter&nbsp;1.&nbsp;Administration Interfaces &amp; Tools"><link rel="next" href="ch03.html" title="Chapter&nbsp;3.&nbsp;Defining Authorization Policies"><link rel="copyright" href="ln-d0e48.html" title="Legal Notice"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div lang="en" class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="chap-auth-services"></a>Chapter&nbsp;2.&nbsp;Defining Authentication Services</h1></div></div></div><p>An <em class="firstterm">authentication</em> service confirms the identity
    of a user or a client application.</p><p>This chapter describes how to configure authentication in OpenAM.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="what-is-authn"></a>2.1.&nbsp;About Authentication in OpenAM</h2></div></div></div><a class="indexterm" name="d0e507"></a><p>Access management is about controlling access to resources. OpenAM
    plays a role similar to border control at an international airport. Instead
    of having each and every airline company deal with access to each
    destination, all airlines redirects passengers to border control. Border
    control then determines who each passenger is according to passport
    credentials. Border control also checks whether the identified passenger
    is authorized to fly to the destination corresponding to the ticket, perhaps
    based on visa credentials. Then, at the departure gate, an agent enforces
    the authorization from border control, allowing the passenger to board the
    plane as long as the passenger has not gotten lost, or tried to board the
    wrong plane, or swapped tickets with someone else. Thus, border control
    handles access management at the airport.</p><p>OpenAM is most frequently used to protect web-accessible resources.
    Users browse to a protected web application page. An agent installed on the
    server with the web application redirects the user to OpenAM for access management.
    OpenAM determines who the user is, and whether the user has the right to
    access the protected page. OpenAM then redirects the user back to the
    protected page, with authorization credentials that can be verified by the agent.
    The agent allows OpenAM authorized users access the page.</p><p>Notice that OpenAM basically needs to determine two things for
    access management: the identity of the user, and whether the user has access rights
    to the protected page. <em class="firstterm">Authentication</em> is how OpenAM identifies
    the user. This chapter covers how to set up the
    authentication process. <em class="firstterm">Authorization</em> is how OpenAM determines
    whether a user has access to a protected resource. Authorization is covered later.</p><p>For authentication, OpenAM uses credentials from the user or
    client application. It then uses defined mechanisms to
    validate credentials and complete the authentication. The authentication
    methods can vary. For example, passengers travelling on international flights authenticate
    with passports and visas. In contrast, passengers travelling on domestic flights might
    authenticate with an identity card or a driver's license. Customers withdrawing
    cash from an ATM authenticate with a card and a PIN. </p><a class="indexterm" name="d0e524"></a><a class="indexterm" name="d0e529"></a><p>OpenAM allows you to configure authentication processes and then customize
    how they are applied. OpenAM uses <em class="firstterm">authentication
        modules</em> to handle different ways of authenticating. Basically,
    each authentication module handles one way of obtaining and verifying
    credentials. You can chain different authentication modules together.
    In OpenAM, this is called <em class="firstterm">authentication chaining</em>.
    Each authentication module can be configured to specify the continuation and
    failure semantics with one of the following four flags:
    required, optional, requisite, or sufficient.<a href="#ftn.d0e542" class="footnote" name="d0e542"><sup class="footnote">[3]</sup></a></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>When a <em class="firstterm">required</em> module fails, the rest of
    the chain is processed, but the authentication fails.</p><p>A required module might be used for login with email and password,
    but then fall through to another module to handle new users who have not
    yet signed up.</p></li><li class="listitem"><p>When an <em class="firstterm">optional</em> module fails,
    authentication continues.</p><p>An optional module might be used to permit a higher level of access
    if the user can present a X.509 certificate for example.</p></li><li class="listitem"><p>When a <em class="firstterm">requisite</em> module fails, authentication
    fails and authentication processing stops.</p><p>A requisite module might be used with exclusive SSO.</p></li><li class="listitem"><p>When a <em class="firstterm">sufficient</em> succeeds, authentication
    is successful and later modules in the chain are skipped.</p><p>You could set Windows Desktop SSO as sufficient, so authenticated
    Windows users are let through, whereas web users have to traverse another
    authentication module such as one requiring an email address and a
    password.</p></li></ul></div><a class="indexterm" name="d0e578"></a><p>With OpenAM, you can further set <em class="firstterm">authentication
    levels</em> per module, with higher levels being used typically
    to allow access to more restricted resources. The OpenAM SPIs also let you
    develop your own authentication modules, and post-authentication plugins.
    Client applications can specify the authentication level, module, user, and
    authentication service to use among those you have configured. As described
    later in this guide, you can use <em class="firstterm">realms</em> to organize
    which authentication process applies for different applications or different
    domains, perhaps managed by different people.</p><p>When a user successfully authenticates, OpenAM creates a session, which
    allows OpenAM to manage that user's access to resources. In some deployments
    you need to limit how many active sessions a user can have at a given time.
    For example, you might want to prevent a user from using more than two devices
    at once. See <a class="xref" href="ch02.html#configure-session-quotas" title="2.7.&nbsp;Configuring Session Quotas">Section&nbsp;2.7, &#8220;Configuring Session Quotas&#8221;</a> for
    instructions.</p><p>OpenAM leaves the authentication process flexible so that you can adapt
    how it works to your situation. Although at first the number of choices
    can seem daunting, now that you understand the basic process, you begin to
    see how choosing authentication modules and arranging them in authentication
    chains lets you use OpenAM to protect access to a wide range of applications
    used in your organization.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="configure-authn-modules"></a>2.2.&nbsp;Configuring Authentication Modules</h2></div></div></div><p>The OpenAM console provides two places where the OpenAM administrator
    can configure authentication modules.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Under Configuration &gt; Authentication, you configure available
    modules for use throughout OpenAM. What you set up here is inherited
    for use elsewhere.</p></li><li class="listitem"><p>Under Access Control &gt; <em class="replaceable"><code>Realm Name</code></em> &gt;
    Authentication, you configure modules for your realm. What you set up
    at this level inherits from the global configuration, but you can override
    what is inherited. You can also add your own modules if necessary.</p></li></ol></div><p>The configuration of individual modules depend on its function.
    The configuration of an Active Directory over LDAP user authentication module
    requires connection information and details about where to search for users.
    In contrast, the configuration of the HOTP module for OTP authentication
    requires data about the password length and the mail server or SMS gateway for
    to send the password during authentication.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="ad-module-conf-hints"></a>2.2.1.&nbsp;Hints For the Active Directory Authentication Module</h3></div></div></div><p>OpenAM connects to Active Directory over Lightweight Directory Access
    Protocol (LDAP). OpenAM provides separate Active Directory and LDAP
    modules to support the use of both Active Directory and
    another directory service in an authentication chain.</p><a class="indexterm" name="d0e619"></a><p><span class="command"><strong>ssoadm</strong></span> service name:
    <code class="literal">sunAMAuthADService</code></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Primary Active Directory Server, </span><span class="term">Secondary Active Directory Server</span></dt><dd><p>The default port for LDAP is 389. If you are connecting to
    Active Directory over SSL, the default port for LDAP/SSL is 636.</p><p>To allow users to change passwords through OpenAM, Active Directory
    requires that you connect over SSL.</p><p>If you want to use SSL or TLS for security, then scroll down to
    enable SSL/TLS Access to Active Directory Server. Make sure that OpenAM
    can trust the Active Directory certificate when using this option.</p><p>OpenAM first attempts to contact primary servers. If no primary
    server is available, then OpenAM attempts to contact secondaries.</p><p>When authenticating users from a directory server that is remote
    from OpenAM, set both the primary and secondary server values.</p><p><span class="command"><strong>ssoadm</strong></span> attributes: primary is
    <code class="literal">iplanet-am-auth-ldap-server</code>; secondary is
    <code class="literal">iplanet-am-auth-ldap-server2</code></p></dd><dt><span class="term">DN to Start User Search</span></dt><dd><p>LDAP data is organized hierarchically, a bit like a file system
    on Windows or UNIX. More specific DNs likely result in better performance.
    When configuring the module for a particular part of the organization,
    you can perhaps start searches from a specific organizational unit such as
    <code class="literal">OU=sales,DC=example,DC=com</code>.</p><p>If multiple entries exist with identical search attribute values,
    make this value specific enough to return only one entry.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-ldap-base-dn</code></p></dd><dt><span class="term">Bind User DN, Bind User Password</span></dt><dd><p>If OpenAM stores attributes in Active Directory, for example to
    manage account lockout, or if Active Directory requires that OpenAM
    authenticate in order to read users' attributes, then OpenAM needs the
    DN and password to authenticate to Active Directory.</p><p>The default is <code class="literal">amldapuser</code>. If the administrator
    authentication chain (default: <code class="literal">ldapService</code>) has been
    configured to include only the Active Directory module, then make sure
    that the password is correct before you logout. If it is incorrect, you
    will be locked out. If you do get locked out, you can login with the
    super user DN, which by default is
    <code class="literal">uid=amAdmin,ou=People,<em class="replaceable"><code>OpenAM-deploy-base</code></em></code>,
    where <em class="replaceable"><code>OpenAM-deploy-base</code></em> was set during
    OpenAM configuration.</p><p><span class="command"><strong>ssoadm</strong></span> attributes:
    <code class="literal">iplanet-am-auth-ldap-bind-dn</code> and
    <code class="literal">iplanet-am-auth-ldap-bind-passwd</code></p></dd><dt><span class="term">Attributes Used to Retrieve User Profile, </span><span class="term">Attributes Used to Search for a User to be Authenticated, </span><span class="term">User Search Filter, </span><span class="term">Search Scope</span></dt><dd><p>LDAP searches for user entries return entries with attribute
    values matching the filter you provide. For example if you search under
    <code class="literal">CN=Users,DC=example,DC=com</code> with a filter
    <code class="literal">"(MAIL=bjensen@example.com)"</code>, then the directory
    returns the entry that has <code class="literal">MAIL=bjensen@example.com</code>.
    In this example the attribute used to search for a user is
    <code class="literal">mail</code>. Multiple attribute values mean the user can
    authenticate with any one of the values. For example, if you have
    both <code class="literal">uid</code> and <code class="literal">mail</code>, then Barbara
    Jensen can authenticate with either <code class="literal">bjensen</code> or
    <code class="literal">bjensen@example.com</code>.</p><p>The User Search Filter text box provides a more complex filter. For example,
    if you search on <code class="literal">mail</code> and add User Search Filter
    <code class="literal">(objectClass=inetOrgPerson)</code>, then OpenAM uses the resulting
    search filter <code class="literal">(&amp;(mail=<em class="replaceable"><code>address</code></em>)
        (objectClass=inetOrgPerson))</code>, where <em class="replaceable"><code>address</code></em>
    is the mail address provided by the user.</p><p>This controls how and the level of the directory that will be searched.
    You can set the search to run at a high level or against a specific area.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>OBJECT will search only for the entry specified as the DN to Start User
    Search.</p></li><li class="listitem"><p>ONELEVEL will search only the entries that are directly children of that
    object.</p></li><li class="listitem"><p>SUBTREE will search the entry specified and every entry under it.</p></li></ul></div><p><span class="command"><strong>ssoadm</strong></span> attributes:
    <code class="literal">iplanet-am-auth-ldap-user-naming-attribute</code>,
    <code class="literal">iplanet-am-auth-ldap-user-search-attributes</code>,
    <code class="literal">iplanet-am-auth-ldap-search-filter</code>, and
    <code class="literal">iplanet-am-auth-ldap-search-scope</code></p></dd><dt><span class="term">SSL/TLS Access to Active Directory Server</span></dt><dd><p>If you enable SSL/TLS, OpenAM must be able to trust Active Directory
    certificates, either because the Active Directory certificates were
    signed by a CA whose certificate is already included in the trust store
    used by the container where OpenAM runs, or because you imported the
    certificates into the trust store.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-ldap-ssl-enabled</code></p></dd><dt><span class="term">Return User DN to DataStore</span></dt><dd><p>When enabled, and OpenAM uses Active Directory as the user store,
    the module returns the DN rather than the User ID, so the bind for
    authentication can be completed without a search to retrieve
    the DN.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-ldap-return-user-dn</code></p></dd><dt><span class="term">User Creation Attributes</span></dt><dd><p>This list lets you map (external) attribute names from Active
    Directory to (internal) attribute names used by OpenAM.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-ldap-user-creation-attr-list</code></p></dd><dt><span class="term">LDAP Connection Heartbeat Interval</span></dt><dd><p>Specifies how often OpenAM should send a heartbeat request to the
    directory server to ensure that the connection does not remain idle. Some
    network administrators configure firewalls and load balancers to drop
    connections that are idle for too long. You can turn this off by setting
    the value to 0 or to a negative number. To set the units for the interval
    use LDAP Connection Heartbeat Time Unit.</p><p>Default: 1</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-ldap-heartbeat-interval</code></p></dd><dt><span class="term">LDAP Connection Heartbeat Time Unit</span></dt><dd><p>Specifies the time unit corresponding to LDAP Connection Heartbeat
    Interval.</p><p>Default: minute</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-ldap-heartbeat-interval</code></p></dd><dt><span class="term">Authentication Level</span></dt><dd><p>Sets the authentication level used to indicate the level of security
    associated with the module. The value can range from 0 to any positive integer.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthADAuthLevel</code></p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="adaptive-auth-module-conf-hints"></a>2.2.2.&nbsp;Hints For the Adaptive Risk Authentication Module</h3></div></div></div><p>The Adaptive Risk module is designed to assess risk during
    authentication so that OpenAM can determine whether to require the
    user to complete further authentication steps. After configuring the
    Adaptive Risk module, insert it in your authentication chain with criteria
    set to sufficient as shown in the following example.</p><div class="mediaobject" align="center"><a name="figure-adaptive-auth-module"></a><img src="images/adaptive-auth-module.png" align="middle" height="360" alt="Including the Adaptive Risk module in an authentication chain"></div><p>In the example authentication chain shown, OpenAM has users
    authenticate first using the LDAP module providing a user ID and password
    combination. Upon success, OpenAM calls the Adaptive Risk module. The
    Adaptive Risk module assesses the risk based on your configured parameters.
    If the Adaptive Risk module calculates a total score below the threshold you
    set, the module returns success, and OpenAM finishes authentication
    processing without requiring further credentials. Otherwise the Adaptive
    Risk module evaluates the score to be above the risk threshold, and returns
    failure. OpenAM then calls the HOTP module, requiring the user to
    authenticate with a one-time password delivered to her by email or by SMS
    to her mobile phone.</p><p>When you configure the Adaptive Risk module to save cookies and
    profile attributes after successful authentication, OpenAM performs the
    save as post-authentication processing, only after the entire authentication
    chain returns success. You must set up OpenAM to save the data as part of
    post-authentication processing by editing the authentication chain to add
    <code class="literal">org.forgerock.openam.authentication.modules.adaptive.Adaptive</code>
    to the list of post authentication plugins.</p><a class="indexterm" name="d0e880"></a><p><span class="command"><strong>ssoadm</strong></span> service name:
    <code class="literal">sunAMAuthAdaptiveService</code></p><div class="variablelist"><div class="variablelist-title">General</div><dl class="variablelist"><dt><span class="term">Authentication Level</span></dt><dd><p>Sets the authentication level used to indicate the level of security
    associated with the module. The value can range from 0 to any positive integer.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-auth-level</code></p></dd><dt><span class="term">Risk Threshold</span></dt><dd><p>Risk threshold score. If the sum of the Scores is greater than the
    threshold, the Adaptive Risk module returns failure. Default: 1</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-auth-threshold</code></p></dd></dl></div><div class="variablelist"><div class="variablelist-title">Failed Authentications</div><dl class="variablelist"><dt><span class="term">Failed Authentication Check</span></dt><dd><p>When enabled, check the user profile for authentication failures
    since the last successful login. This check therefore requires
    OpenAM to have access to the user profile, and Account Lockout to be
    enabled (otherwise OpenAM does not record authentication
    failures).</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-failure-check</code></p></dd><dt><span class="term">Score</span></dt><dd><p>Value to add to the total score if the user fails the Failed
    Authentication Check. Default: 1</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-failure-score</code></p></dd><dt><span class="term">Invert Result</span></dt><dd><p>When selected, add the Score to the total score if the user
    passes the Failed Authentication Check.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-failure-invert</code></p></dd></dl></div><div class="variablelist"><div class="variablelist-title">IP Address Range</div><dl class="variablelist"><dt><span class="term">IP Range Check</span></dt><dd><p>When enabled, check whether the client IP address is within one
    of the specified IP Ranges.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-ip-range-check</code></p></dd><dt><span class="term">IP Range</span></dt><dd><p>For IPv4, specifies a list of IP ranges either in CIDR-style notation
    (<code class="literal"><em class="replaceable"><code>x.x.x.x</code></em>/<em class="replaceable"><code>YY</code></em></code>)
    or as a range from one address to another
    (<code class="literal"><em class="replaceable"><code>x.x.x.x</code></em>-<em class="replaceable"><code>y.y.y.y</code></em></code>,
    meaning from <em class="replaceable"><code>x.x.x.x</code></em> to
    <em class="replaceable"><code>y.y.y.y</code></em>).</p><p>For IPv6, specifies a list of IP ranges either in CIDR-style notation
    (<code class="literal"><em class="replaceable"><code>X:X:X:X:X:X:X:X</code></em>/<em class="replaceable"><code>YY</code></em></code>)
    or as a range from one address to another
    (<code class="literal"><em class="replaceable"><code>X:X:X:X:X:X:X:X</code></em>-<em class="replaceable"><code>Y:Y:Y:Y:Y:Y:Y:Y</code></em></code>,
    meaning from <em class="replaceable"><code>X:X:X:X:X:X:X:X</code></em> to
    <em class="replaceable"><code>Y:Y:Y:Y:Y:Y:Y:Y</code></em>).</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-ip-range-range</code></p></dd><dt><span class="term">Score</span></dt><dd><p>Value to add to the total score if the user fails the IP Range
    Check. Default: 1</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-ip-range-score</code></p></dd><dt><span class="term">Invert Result</span></dt><dd><p>When selected, add the Score to the total score if the user
    passes the IP Range Check.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-ip-range-invert</code></p></dd></dl></div><div class="variablelist"><div class="variablelist-title">IP Address History</div><dl class="variablelist"><dt><span class="term">IP History Check</span></dt><dd><p>When enabled, check whether the client IP address matches one of
    the known values stored on the profile attribute you specify. This check
    therefore requires that OpenAM have access to the user profile.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-ip-history-check</code></p></dd><dt><span class="term">History Size</span></dt><dd><p>Specifies how many IP address values to retain on the profile
    attribute you specify. Default: 5</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-ip-adaptive-history-count</code></p></dd><dt><span class="term">Profile Attribute Name</span></dt><dd><p>Name of the user profile attribute on which to store known IP
    addresses. Default: <code class="literal">iphistory</code></p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-ip-history-attribute</code></p></dd><dt><span class="term">Save Successful IP Address</span></dt><dd><p>When enabled, save new client IP addresses to the known IP address
    list following successful authentication.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-ip-history-save</code></p></dd><dt><span class="term">Score</span></dt><dd><p>Value to add to the total score if the user fails the IP History
    Check. Default: 1</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-ip-history-score</code></p></dd><dt><span class="term">Invert Result</span></dt><dd><p>When selected, add the Score to the total score if the user
    passes the IP History Check.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-ip-history-invert</code></p></dd></dl></div><div class="variablelist"><div class="variablelist-title">Known Cookie</div><dl class="variablelist"><dt><span class="term">Cookie Value Check</span></dt><dd><p>When enabled, check whether the client browser request has the
    specified cookie and optional cookie value.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-known-cookie-check</code></p></dd><dt><span class="term">Cookie Name</span></dt><dd><p>Specifies the name of the cookie for which OpenAM checks when
    you enable the Cookie Value Check.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-known-cookie-name</code></p></dd><dt><span class="term">Cookie Value</span></dt><dd><p>Specifies the value of the cookie for which OpenAM checks. If
    no value is specified, OpenAM does not check the cookie value.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-known-cookie-value</code></p></dd><dt><span class="term">Save Cookie Value on Successful Login</span></dt><dd><p>When enabled, save the cookie as specified in the client's browser
    following successful authentication. If no Cookie Value is specified,
    the value is set to 1.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-known-cookie-save</code></p></dd><dt><span class="term">Score</span></dt><dd><p>Value to add to the total score if user passes the Cookie Value
    Check. Default: 1</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-known-cookie-score</code></p></dd><dt><span class="term">Invert Result</span></dt><dd><p>When selected, add the Score to the total score if the user
    passes the Cookie Value Check.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-known-cookie-invert</code></p></dd></dl></div><div class="variablelist"><div class="variablelist-title">Device Cookie</div><dl class="variablelist"><dt><span class="term">Device Registration Cookie Check</span></dt><dd><p>When enabled, check whether the client browser request has the
    specified cookie with the correct device registration identifier as
    the value.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-device-cookie-check</code></p></dd><dt><span class="term">Cookie Name</span></dt><dd><p>Specifies the name of the cookie for the Device Registration Cookie
    Check. Default: Device</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-device-cookie-name</code></p></dd><dt><span class="term">Save Device Registration on Successful Login</span></dt><dd><p>When enabled, save the specified cookie with a hashed device
    identifier value in the client's browser following successful
    authentication.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-device-cookie-save</code></p></dd><dt><span class="term">Score</span></dt><dd><p>Value to add to the total score if the user fails the Device
    Registration Cookie Check. Default: 1</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-device-cookie-score</code></p></dd><dt><span class="term">Invert Result</span></dt><dd><p>When selected, add the Score to the total score if the user
    passes the Device Registration Cookie Check.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-device-cookie-invert</code></p></dd></dl></div><div class="variablelist"><div class="variablelist-title">Time Since Last Login</div><dl class="variablelist"><dt><span class="term">Time Since Last Login Check</span></dt><dd><p>When enabled, check whether the client browser request has the
    specified cookie that holds the encrypted last login time, and check
    that the last login time is more recent than a maximum number of days you
    specify.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-time-since-last-login-check</code></p></dd><dt><span class="term">Cookie Name</span></dt><dd><p>Specifies the name of the cookie holding the encrypted last login
    time value.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-time-since-last-login-cookie-name</code></p></dd><dt><span class="term">Max Time since Last Login</span></dt><dd><p>Specifies a threshold age of the last login time in days. If the
    client's last login time is more recent than the number of days specified,
    then the client successfully passes the check.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-time-since-last-login-value</code></p></dd><dt><span class="term">Save time of Successful Login</span></dt><dd><p>When enabled, save the specified cookie with the current time
    encrypted as the last login value in the client's browser following
    successful authentication.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-time-since-last-login-save</code></p></dd><dt><span class="term">Score</span></dt><dd><p>Value to add to the total score if the user fails the Time Since
    Last Login Check. Default: 1</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-time-since-last-login-score</code></p></dd><dt><span class="term">Invert Result</span></dt><dd><p>When selected, add the Score to the total score if the user
    passes the Time Since Last Login Check.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-time-since-last-login-invert</code></p></dd></dl></div><div class="variablelist"><div class="variablelist-title">Profile Attribute</div><dl class="variablelist"><dt><span class="term">Profile Risk Attribute check</span></dt><dd><p>When enabled, check whether the user profile contains the specified
    attribute and value.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-risk-attribute-check</code></p></dd><dt><span class="term">Attribute Name</span></dt><dd><p>Specifies the attribute to check on the user profile for the
    specified value.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-risk-attribute-name</code></p></dd><dt><span class="term">Attribute Value</span></dt><dd><p>Specifies the value to match on the profile attribute. If the
    attribute is multi-valued, a single match is sufficient to pass the
    check.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-risk-attribute-value</code></p></dd><dt><span class="term">Score</span></dt><dd><p>Value to add to the total score if the user fails the Profile Risk
    Attribute Check. Default: 1</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-risk-attribute-score</code></p></dd><dt><span class="term">Invert Result</span></dt><dd><p>When selected, add the Score to the total score if the user
    passes the Profile Risk Attribute Check.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-risk-attribute-invert</code></p></dd></dl></div><div class="variablelist"><div class="variablelist-title">Geo Location</div><dl class="variablelist"><dt><span class="term">Geolocation Country Code Check</span></dt><dd><p>When enabled, check whether the client IP address location matches
    a country specified in the Valid Country Codes list. The </p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">forgerock-am-auth-adaptive-geo-location-check</code></p></dd><dt><span class="term">Geolocation Database location</span></dt><dd><p>Path to GeoIP data file used to convert IP addresses to
    country locations. The geolocation database is not packaged with OpenAM.
    You can downloaded the GeoIP Country database from  <a class="link" href="http://www.maxmind.com/en/country" target="_top">MaxMind</a>. Use the binary
    .dat file format, rather than .csv. You can use the GeoLite Country database
    for testing.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-geo-location-database</code></p></dd><dt><span class="term">Valid Country Codes</span></dt><dd><p>Specifies the list of country codes to match. Use
    <code class="literal">|</code> to separate multiple values.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-geo-location-values</code>.</p></dd><dt><span class="term">Score</span></dt><dd><p>Value to add to the total score if the user fails the Geolocation
    Country Code Check. Default: 1</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-geo-location-score</code></p></dd><dt><span class="term">Invert Result</span></dt><dd><p>When selected, add the Score to the total score if the user
    passes the Geolocation Country Code Check.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-geo-location-invert</code></p></dd></dl></div><div class="variablelist"><div class="variablelist-title">Request Header</div><dl class="variablelist"><dt><span class="term">Request Header Check</span></dt><dd><p>When enabled, check whether the client browser request has the
    specified header with the correct value.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-req-header-check</code></p></dd><dt><span class="term">Request Header Name</span></dt><dd><p>Specifies the name of the request header for the Request Header
    Check.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-req-header-name</code></p></dd><dt><span class="term">Request Header Value</span></dt><dd><p>Specifies the value of the request header for the Request Header
    Check.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-req-header-value</code></p></dd><dt><span class="term">Score</span></dt><dd><p>Value to add to the total score if the user fails the Request
    Header Check. Default: 1</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-req-header-score</code></p></dd><dt><span class="term">Invert Result</span></dt><dd><p>When selected, add the Score to the total score if the user
    passes the Request Header Check.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-req-header-invert</code></p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="anon-module-conf-hints"></a>2.2.3.&nbsp;Hints For the Anonymous Authentication Module</h3></div></div></div><p>This module lets you track and manage anonymous users, perhaps
    forcing further authentication later when a user moves to access resources
    that require more protection.</p><a class="indexterm" name="d0e1541"></a><p><span class="command"><strong>ssoadm</strong></span> service name:
    <code class="literal">iPlanetAMAuthAnonymousService</code></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Valid Anonymous Users</span></dt><dd><p>Specifies valid anonymous user IDs in addition to the default.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-anonymous-users-list</code></p></dd><dt><span class="term">Default Anonymous User Name</span></dt><dd><p>Specifies the user ID assigned by the module if the Valid
    Anonymous Users list is empty. Default: <code class="literal">anonymous</code></p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-anonymous-default-user-name</code></p></dd><dt><span class="term">Case Sensitive User IDs</span></dt><dd><p>Determines whether case matters for anonymous user IDs.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-anonymous-case-sensitive</code></p></dd><dt><span class="term">Authentication Level</span></dt><dd><p>Sets the authentication level used to indicate the level of security
    associated with the module. The value can range from 0 to any positive integer.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-anonymous-auth-level</code></p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="cert-module-conf-hints"></a>2.2.4.&nbsp;Hints For the Certificate Authentication Module</h3></div></div></div><p>X.509 digital certificates can enable secure authentication without
    the need for user names and passwords or other credentials. Certificate
    authentication can be handy to manage authentication by applications.
    If all certificates are signed by a recognized Certificate Authority (CA),
    then you might get away without additional configuration. If you need to
    look up public keys of OpenAM clients, this module can also look up public
    keys in an LDAP directory server.</p><p>When you store certificates and certificate revocation lists (CRL)
    in an LDAP directory service, you must configure both how to access the
    directory service and also how to look up the certificates and CRLs,
    based on the fields in the certificates that OpenAM clients present to
    authenticate.</p><p>Access to the LDAP server and how to search for users is similar
    to LDAP module configuration as in <a class="xref" href="ch02.html#ldap-module-conf-hints" title="2.2.12.&nbsp;Hints For the LDAP Authentication Module">Section&nbsp;2.2.12, &#8220;Hints For the LDAP Authentication Module&#8221;</a>.
    The primary difference is that, unlike for LDAP configuration, OpenAM
    retrieves the user identifier from a field in the certificate that the
    client application presents, then uses that identifier to search for the
    LDAP directory entry that holds the certificate, which should match the
    certificate presented. For example, if the Subject field of a typical
    certificate has a DN <code class="literal">C=FR, O=Example Corp, CN=Barbara
        Jensen</code>, and Barbara Jensen's entry in the directory has
    <code class="literal">cn=Barbara Jensen</code>, then you can use <code class="literal">CN=Barbara
        Jensen</code> from the Subject DN to search for the entry with
    <code class="literal">cn=Barbara Jensen</code> in the directory.</p><a class="indexterm" name="d0e1626"></a><p><span class="command"><strong>ssoadm</strong></span> service name:
    <code class="literal">iPlanetAMAuthCertService</code></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Match Certificate in LDAP</span></dt><dd><p>When enabled, OpenAM searches for a match for the user's
    certificate in the LDAP directory. If a match is found and not revoked
    according to a CRL or OCSP validation, then authentication succeeds.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-cert-check-cert-in-ldap</code></p></dd><dt><span class="term">Subject DN Attribute Used to Search LDAP for Certificates</span></dt><dd><p>Indicates which attribute and value in the certificate Subject DN
    is used to find the LDAP entry holding the certificate.</p><p>Default: CN</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-cert-attr-check-ldap</code></p></dd><dt><span class="term">Match Certificate to CRL</span></dt><dd><p>When enabled, OpenAM checks whether the certificate has been
    revoked according to a CRL in the LDAP directory.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-cert-check-crl</code></p></dd><dt><span class="term">Issuer DN Attribute Used to Search LDAP for CRLs</span></dt><dd><p>Indicates which attribute and value in the certificate Issuer DN
    is used to find the CRL in the LDAP directory.</p><p>Default: CN</p><p>If only one attribute is specified, the LDAP search filter used to
    find the CRL based on the Subject DN of the CA certificate is
    <code class="literal">(<em class="replaceable"><code>attr-name</code></em>=<em class="replaceable"><code>attr-value-in-subject-DN</code></em>)</code>.</p><p>For example, if the subject DN of the issuer certificate is
    <code class="literal">C=US, CN=Some CA, serialNumber=123456</code>, and the
    attribute specified is <code class="literal">CN</code>, then the LDAP search filter
    used to find the CRL is <code class="literal">(CN=Some CA)</code>.</p><p>In order to distinguish among different CRLs for the same CA issuer,
    specify multiple attributes separated by commas (<code class="literal">,</code>) in
    the same order they occur in the subject DN. When multiple attribute names
    are provided in a comma-separated list, the LDAP search filter used is
    <code class="literal">(cn=<em class="replaceable"><code>attr1</code></em>=<em class="replaceable"><code>attr1-value-in-subject-DN</code></em>,<em class="replaceable"><code>attr2</code></em>=<em class="replaceable"><code>attr2-value-in-subject-DN</code></em>,...,<em class="replaceable"><code>attrN</code></em>=<em class="replaceable"><code>attrN-value-in-subject-DN</code></em>)</code>.</p><p>For example, if the subject DN of the issuer certificate is
    <code class="literal">C=US, CN=Some CA, serialNumber=123456</code>, and the
    attributes specified are <code class="literal">CN,serialNumber</code>, then
    the LDAP search filter used to find the CRL is
    <code class="literal">(cn=CN=Some CA,serialNumber=123456)</code>.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-cert-attr-check-crl</code></p></dd><dt><span class="term">HTTP Parameters for CRL Update</span></dt><dd><p>Your certificate authority should provide the URL to use here,
    from which OpenAM can get CRL updates.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-cert-param-get-crl</code></p></dd><dt><span class="term">Match CA Certificate to CRL</span></dt><dd><p>When enabled, OpenAM checks the CRL against the CA certificate to
    ensure it has not been compromised.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMValidateCACert</code></p></dd><dt><span class="term">Cache CRLs in Memory</span></dt><dd><p>When enabled, CRLs will be cached.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-am-auth-cert-attr-cache-crl</code></p></dd><dt><span class="term">Update CA CRLs from CRLDistributionPoint</span></dt><dd><p>When enabled, OpenAM updates CRLs from the LDAP directory store.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-am-auth-cert-update-crl</code></p></dd><dt><span class="term">OCSP Validation</span></dt><dd><p>Enable this to use Online Certificate Status Protocol (OCSP)
    instead of CRLs to check certificates' revocation status.</p><p>If you enable this, you also must configure OSCP for OpenAM
    under Configuration &gt; Server and Sites &gt; Default Server Settings,
    or Configuration &gt; Server and Sites &gt; <em class="replaceable"><code>Server
        Name</code></em> &gt; Security.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-cert-check-ocsp</code></p></dd><dt><span class="term">LDAP Server Where Certificates are Stored</span></dt><dd><p>Identifies the LDAP server with certificates. Remember to specify URLs
    with appropriate port numbers (389 for unencrypted LDAP, 636 for LDAP over SSL).
    When configuring a secure connection, scroll down to enable Use SSL/TLS for LDAP
    Access.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-cert-ldap-provider-url</code></p></dd><dt><span class="term">LDAP Search Start or Base DN</span></dt><dd><p>Valid base DN for the LDAP search, such as
    <code class="literal">dc=example,dc=com</code>.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-cert-start-search-loc</code></p></dd><dt><span class="term">LDAP Server Authentication User, LDAP Server Authentication Password</span></dt><dd><p>If OpenAM stores attributes in the LDAP directory, for example to
    manage account lockout, or if the LDAP directory requires that OpenAM
    authenticate in order to read users' attributes, then OpenAM needs the
    DN and password to authenticate to the LDAP directory.</p><p><span class="command"><strong>ssoadm</strong></span> attributes:
    <code class="literal">iplanet-am-auth-cert-principal-user</code>, and
    <code class="literal"> iplanet-am-auth-cert-principal-passwd</code></p></dd><dt><span class="term">Use SSL/TLS for LDAP Access</span></dt><dd><p>If you use SSL/TLS for LDAP access, OpenAM must be able to trust the
    LDAP server certificate.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-cert-use-ssl</code></p></dd><dt><span class="term">Certificate Field Used to Access User Profile</span></dt><dd><p>If the user profile is in a different entry from the user
    certificate, then this can be different from subject DN attribute
    used to find the entry with the certificate. When you select other,
    provide an attribute name in the Other Certificate Field Used to Access
    User Profile text box.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-cert-user-profile-mapper</code></p></dd><dt><span class="term">Other Certificate Field Used to Access User Profile</span></dt><dd><p>This field is only used if the Certificate Field Used to Access
    User Profile attribute is set to other. This field allows a custom
    certificate field to be used as the basis of the user search.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-cert-user-profile-mapper-other</code></p></dd><dt><span class="term">SubjectAltNameExt Value Type to Access User Profile</span></dt><dd><p>Use this if you want to look up the user profile from an RFC 822
    style name, or a User Principal Name as used in Active Directory.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal"> iplanet-am-auth-cert-user-profile-mapper-ext</code></p></dd><dt><span class="term">Trusted Remote Hosts</span></dt><dd><p>Hosts trusted to send certificates to OpenAM, such as load balancers
    doing SSL termination, or OpenAM distributed authentication UI
    instances.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-cert-gw-cert-auth-enabled</code></p></dd><dt><span class="term">HTTP Header Name for Client Certificate</span></dt><dd><p>If you configure trusted hosts, specify the HTTP header name for
    the client certificate inserted by the trusted host.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMHttpParamName</code></p></dd><dt><span class="term">Authentication Level</span></dt><dd><p>Sets the authentication level used to indicate the level of security
    associated with the module. The value can range from 0 to any positive integer.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-cert-auth-level</code></p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="core-module-conf-hints"></a>2.2.5.&nbsp;Hints For the Core Authentication Module</h3></div></div></div><p>The Core module is a meta-module.</p><p>The Core module lets you set up the list of modules available,
    and specify what types of client applications can authenticate with which
    modules. It also lets you configure connection pools for access to
    directory servers, and whether to retain objects used during authentication
    for use during logout. Furthermore, the Core module lets you set defaults
    used when configuring authentication in a particular realm.</p><a class="indexterm" name="d0e1947"></a><div class="itemizedlist"><p>The Core Authentication module is divided into seven sections:</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a class="xref" href="ch02.html#auth-core-global" title="2.2.5.1.&nbsp;Core - Global Attributes">Section&nbsp;2.2.5.1, &#8220;Core - Global Attributes&#8221;</a></p></li><li class="listitem"><p><a class="xref" href="ch02.html#auth-core-realm-attributes" title="2.2.5.2.&nbsp;Core - Realm Attributes">Section&nbsp;2.2.5.2, &#8220;Core - Realm Attributes&#8221;</a></p></li><li class="listitem"><p><a class="xref" href="ch02.html#auth-core-persistent-cookie" title="2.2.5.3.&nbsp;Core - Persistent Cookie (Legacy)">Section&nbsp;2.2.5.3, &#8220;Core - Persistent Cookie (Legacy)&#8221;</a></p></li><li class="listitem"><p><a class="xref" href="ch02.html#auth-core-account-lockout" title="2.2.5.4.&nbsp;Core - Account Lockout">Section&nbsp;2.2.5.4, &#8220;Core - Account Lockout&#8221;</a></p></li><li class="listitem"><p><a class="xref" href="ch02.html#auth-core-general" title="2.2.5.5.&nbsp;Core - General">Section&nbsp;2.2.5.5, &#8220;Core - General&#8221;</a></p></li><li class="listitem"><p><a class="xref" href="ch02.html#auth-core-security" title="2.2.5.6.&nbsp;Core - Security">Section&nbsp;2.2.5.6, &#8220;Core - Security&#8221;</a></p></li><li class="listitem"><p><a class="xref" href="ch02.html#auth-core-post-auth" title="2.2.5.7.&nbsp;Core - Post Authentication Processing">Section&nbsp;2.2.5.7, &#8220;Core - Post Authentication Processing&#8221;</a></p></li></ul></div><p><span class="command"><strong>ssoadm</strong></span> service name:
    <code class="literal">iPlanetAMAuthService</code></p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="auth-core-global"></a>2.2.5.1.&nbsp;Core - Global Attributes</h4></div></div></div><p>The Global Attributes includes the list of available modules, LDAP connection
    settings, authentication process options, and an option to make the XUI the
    default interface. The Global Attributes are defined in the
    <span class="olink">
                <em class="citetitle">Authentication Configuration</em></span> section of the
    OpenAM Reference Guide.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="auth-core-realm-attributes"></a>2.2.5.2.&nbsp;Core - Realm Attributes</h4></div></div></div><p>This section of the Core Authentication module is on the Realm Attributes section
    page before options for Persistent Cookies.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="emphasis"><em>User Profile</em></span>, </span><span class="term">User Profile</span></dt><dd><p>Whether a user profile needs to exist in the user data store,
    or should be created on successful authentication.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Dynamic</span></dt><dd><p>Specifies that on successful authentication the Authentication
    Service creates a user profile if one does not already exist.
    OpenAM then issues the SSOToken. OpenAM creates the user profile
    in the user data store configured for the realm.</p></dd><dt><span class="term">Dynamic with User Alias</span></dt><dd><p>Specifies that on successful authentication the Authentication
    Service creates a user profile that contains the User Alias List
    attribute which defines one or more aliases that for mapping a
    user's multiple profiles.</p></dd><dt><span class="term">Ignored</span></dt><dd><p>Specifies that a user profile is not required for the
    Authentication Service to issue an SSOToken after a successful
    authentication.</p></dd><dt><span class="term">Required</span></dt><dd><p>Specifies that on successful authentication the user must have
    a user profile in the user data store configured for the realm in
    order for the Authentication Service to issue an SSOToken.</p></dd></dl></div><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-dynamic-profile-creation</code></p></dd><dt><span class="term">User Profile Dynamic Creation Default Roles</span></dt><dd><p>Specifies the Distinguished Name (DN) of a role to be assigned to
    a new user whose profile is created when either of the Dynamic options
    is selected under the User Profile attribute. There are no default
    values. The role specified must be within the realm for which the
    authentication process is configured.</p><p>This role can be either an OpenAM or Sun DSEE role, but it cannot
    be a filtered role. If you wish to automatically assign specific services
    to the user, you have to configure the Required Services attribute in
    the User Profile.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-default-role</code></p></dd><dt><span class="term">Alias Search Attribute Name</span></dt><dd><p>After a user is successfully authenticated, the user's profile is
    retrieved. OpenAM first searches for the user based on the data store settings.
    If that fails to find the user, OpenAM will use the attributes listed here to
    lookup the user profile. This setting accepts any data store specific attribute
    name.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-alias-attr-name</code></p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="auth-core-persistent-cookie"></a>2.2.5.3.&nbsp;Core - Persistent Cookie (Legacy)</h4></div></div></div><p>This section of the Core Authentication module covers the Persistent Cookie options.</p><div class="note"><h4 class="title">Note</h4><p>Two methods are available in OpenAM to configure persistent cookies. The options described
    here and in <a class="xref" href="ch02.html#authn-from-browser" title="2.5.&nbsp;Authenticating To OpenAM">Section&nbsp;2.5, &#8220;Authenticating To OpenAM&#8221;</a> specify one method. There is also a new module,
    described in <a class="xref" href="ch02.html#persistent-cookie" title="2.2.17.&nbsp;Hints for the Persistent Cookie Module">Section&nbsp;2.2.17, &#8220;Hints for the Persistent Cookie Module&#8221;</a>. If you want to set up persistent cookies, you are
    encouraged to use the new module. The options described here have no effect on that module.</p></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Persistent Cookie Mode</span></dt><dd><p>Determines whether users can return to their authenticated session
    after restarting the browser. When enabled, the persistent cookie can be
    used to reauthenticate until the persistent cookie expires (as specified
    by the value of the Persistent Cookie Maximum Time attribute), or until
    the user explicitly logs out. By default, the Authentication Service uses
    only memory cookies (expires when the browser is closed).</p><p>The client must explicitly request a persistent cookie by adding
    <code class="literal">iPSPCookie=yes</code> as a parameter to the login URL. OpenAM
    sets a <code class="literal">DProPCookie</code> as described in
    <a class="xref" href="ch02.html#authn-from-browser" title="2.5.&nbsp;Authenticating To OpenAM">Section&nbsp;2.5, &#8220;Authenticating To OpenAM&#8221;</a>.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-persistent-cookie-mode</code></p></dd><dt><span class="term">Persistent Cookie Maximum Time</span></dt><dd><p>Specifies the interval after which a persistent cookie expires.
    The interval begins when the user's session is successfully authenticated.
    The maximum value is 2147483647 (in seconds, so a bit more than 68 years).
    The field accepts any integer value less than the maximum.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-persistent-cookie-time</code></p></dd><dt><span class="term">Persistent Cookie Authentication Level</span></dt><dd><p>Sets the authentication level used to indicate the level of security
    associated with the module. The value can range from 0 to any positive integer.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-pcookie-auth-level</code></p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="auth-core-account-lockout"></a>2.2.5.4.&nbsp;Core - Account Lockout</h4></div></div></div><p>This section of the Core Authentication module
    includes details on how account lockouts can be configured.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Login Failure Lockout Mode</span></dt><dd><p>Selecting this attribute enables a physical lockout. Physical
    lockout will inactivate an LDAP attribute (defined in the Lockout
    Attribute Name property) in the user's profile. This attribute works in
    conjunction with several other lockout and notification attributes.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-login-failure-lockout-mode</code></p></dd><dt><span class="term">Login Failure Lockout Count</span></dt><dd><p>Defines the number of attempts that a user has to authenticate,
    within the time interval defined in Login Failure Lockout Interval,
    before being locked out.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-login-failure-count</code></p></dd><dt><span class="term">Login Failure Lockout Interval</span></dt><dd><p>Defines the time in minutes during which failed login attempts are
    counted. If one failed login attempt is followed by a second failed
    attempt, within this defined lockout interval time, the lockout count
    starts, and the user is locked out if the number of attempts reaches
    the number defined in Login Failure Lockout Count. If an attempt within
    the defined lockout interval time proves successful before the number of
    attempts reaches the number defined in Login Failure Lockout Count, the
    lockout count is reset.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-login-failure-duration</code></p></dd><dt><span class="term">Email Address to Send Lockout Notification</span></dt><dd><p>Specify one (or more) email address(es) to which notification is
    sent if a user lockout occurs.</p><p>Separate multiple addresses with spaces, and append
    <code class="literal">|<em class="replaceable"><code>locale</code></em>|<em class="replaceable"><code>charset</code></em></code>
    to addresses for recipients in non-English locales.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-lockout-email-address</code></p></dd><dt><span class="term">Warn User After N Failures</span></dt><dd><p>The number of authentication failures after which OpenAM displays
    a warning message that the user will be locked out.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal"> iplanet-am-auth-lockout-warn-user</code></p></dd><dt><span class="term">Login Failure Lockout Duration</span></dt><dd><p>Defines how many minutes a user must wait after a lockout before
    attempting to authenticate again. Entering a value greater than 0 enables
    memory lockout and disables physical lockout. Memory lockout means
    the user's account is locked in memory for the number of minutes
    specified. The account is unlocked after the time period has passed.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-lockout-duration</code></p></dd><dt><span class="term">Lockout Duration Multiplier</span></dt><dd><p>Defines a value with which to multiply the value of the Login
    Failure Lockout Duration attribute for each successive lockout. For
    example, if Login Failure Lockout Duration is set to 3 minutes, and the
    Lockout Duration Multiplier is set to 2, the user is locked out of the
    account for 6 minutes. Once the 6 minutes has elapsed, if the user again
    provides the wrong credentials, the lockout duration is then 12 minutes.
    With the Lockout Duration Multiplier, the lockout duration is
    incrementally increased based on the number of times the user has been
    locked out.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunLockoutDurationMultiplier</code></p></dd><dt><span class="term">Lockout Attribute Name</span></dt><dd><p>Defines the LDAP attribute used for physical lockout. The default
    value is <code class="literal">inetuserstatus</code>, although the field in the
    OpenAM console is empty. The Lockout Attribute Value field must also
    contain an appropriate value.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-lockout-attribute-name</code></p></dd><dt><span class="term">Lockout Attribute Value</span></dt><dd><p>Specifies the action to take on the attribute defined in Lockout
    Attribute Name. The default value is <code class="literal">inactive</code>,
    although the field in the OpenAM console is empty. The Lockout Attribute
    Name field must also contain an appropriate value.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-lockout-attribute-value</code></p></dd><dt><span class="term">Invalid Attempts Data Attribute Name</span></dt><dd><p>Specifies the LDAP attribute used to hold the number of failed
    authentication attempts towards Login Failure Lockout Count.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthInvalidAttemptsDataAttrName</code></p></dd><dt><span class="term">Store Invalid Attempts in Data Store</span></dt><dd><p>Enables the storage of information regarding failed authentication
    attempts as the value of the Invalid Attempts Data Attribute Name in
    the user data store. In order to store data in this attribute, the
    OpenAM schema has to be loaded. Information stored includes number of
    invalid attempts, time of last failed attempt, lockout time and lockout
    duration. Storing this information in the identity repository allows it
    to be shared among multiple instances of OpenAM.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunStoreInvalidAttemptsInDS</code></p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="auth-core-general"></a>2.2.5.5.&nbsp;Core - General</h4></div></div></div><p>This section of the Core Authentication module includes general options.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Default Authentication Locale</span></dt><dd><p>Specifies the default language subtype to be used by the
    Authentication Service. The default value is
    <code class="literal">en_US</code>.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-locale</code></p></dd><dt><span class="term">Identity Types</span></dt><dd><p>Lists the type or types of identities used during a profile lookup. You can
    choose more than one to search on multiple types if you would like OpenAM to
    conduct a second lookup if the first lookup fails. Default: Agent and User</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Agent</span></dt><dd><p>Searches for identities under your agents.</p></dd><dt><span class="term">agentgroup</span></dt><dd><p>Searches for identities according to your established agent group.</p></dd><dt><span class="term">agentonly</span></dt><dd><p>Searches for identities only under your agents.</p></dd><dt><span class="term">Group</span></dt><dd><p>Searches for identities according to your established groups.</p></dd><dt><span class="term">User</span></dt><dd><p>Searches for identities according to your users.</p></dd></dl></div><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMIdentityType</code></p></dd><dt><span class="term">Pluggable User Status Event Classes</span></dt><dd><p>Specifies one or more Java classes used to provide a callback
    mechanism for user status changes during the authentication process.
    The Java class must implement the
    <code class="literal">com.sun.identity.authentication.spi.AMAuthCallBack</code>
    OpenAM interface. OpenAM supports account lockout and password changes.
    OpenAM supports password changes through the LDAP authentication module,
    and so the feature is only available for the LDAP module.</p><p>A .jar containing the user status event class belongs in
    the <code class="filename">WEB-INF/lib</code> directory of the deployed OpenAM
    instance. If you do not build a .jar, add the class files under
    <code class="filename">WEB-INF/classes</code>. </p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMUserStatusCallbackPlugins</code></p></dd><dt><span class="term">Default Authentication Level</span></dt><dd><p>Specifies the default authentication level for authentication modules.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-default-auth-level</code></p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="auth-core-security"></a>2.2.5.6.&nbsp;Core - Security</h4></div></div></div><p>This section of the Core Authentication module
    includes basic security options.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Module Based Authentication</span></dt><dd><p>Enables users to authenticate using module-based authentication.
    Otherwise, all attempts at authentication using the
    <code class="literal">module=<em class="replaceable"><code>module-name</code></em></code> login
    parameter result in failure. It is recommended that this be turned off in
    a production environment.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunEnableModuleBasedAuth</code></p></dd><dt><span class="term">Valid goto URL domains</span></dt><dd><p>List external domains to which clients can be redirected after
    authentication. This attribute requires valid DNS domains that reflect
    the set policy rules, such as https://website.example.com/* or
    https://website.example.com/*?*.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-valid-goto-domains</code></p></dd><dt><span class="term">Zero Page Login</span></dt><dd><p>Enables the administrator to allow users to authenticate to a single
    authentication screen using GET request parameters. Enable this with
    caution as it can allow credentials to be cached.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam.auth.zero.page.login.enabled</code></p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="auth-core-post-auth"></a>2.2.5.7.&nbsp;Core - Post Authentication Processing</h4></div></div></div><p>This section of the Core Authentication module
    specifies options for post authentication processing.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Default Success Login URL</span></dt><dd><p>Accepts a list of values that specifies where users are directed
    after successful authentication. The format of this attribute is
    <code class="literal"><em class="replaceable"><code>client-type</code></em>|<em class="replaceable"><code>URL</code></em></code>
    although the only value you can specify at this time is a URL
    which assumes the type HTML. The default value is
    <code class="literal">/openam/console</code>. Values that do not specify HTTP have
    that appended to the deployment URI.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-login-success-url</code></p></dd><dt><span class="term">Default Failure Login URL</span></dt><dd><p>Accepts a list of values that specifies where users are directed
    after authentication has failed. The format of this attribute is
    <code class="literal"><em class="replaceable"><code>client-type</code></em>|<em class="replaceable"><code>URL</code></em></code>
    although the only value you can specify at this time is a URL
    which assumes the type HTML. Values that do not specify HTTP have
    that appended to the deployment URI.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-login-failure-url</code></p></dd><dt><span class="term">Authentication Post Processing Classes</span></dt><dd><p>Specifies one or more Java classes used to customize post
    authentication processes for successful or unsuccessful logins.
    The Java class must implement the
    <code class="literal">com.sun.identity.authentication.spi.AMPostAuthProcessInterface</code>
    OpenAM interface.</p><p>A .jar containing the post processing class belongs in
    the <code class="filename">WEB-INF/lib</code> directory of the deployed OpenAM
    instance. If you do not build a .jar, add the class files under
    <code class="filename">WEB-INF/classes</code>. For deployment, add the .jar or
    classes into a custom OpenAM .war file.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-post-login-process-class</code></p></dd><dt><span class="term">Generate UserID Mode</span></dt><dd><p>When enabled, the Membership module generates a list of alternate
    user identifiers if the one entered by a user during the
    self-registration process is not valid or already exists. The user
    identifiers are generated by the class specified in the Pluggable User
    Name Generator Class property.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-username-generator-enabled</code></p></dd><dt><span class="term">Pluggable User Name Generator Class</span></dt><dd><p>Specifies the name of the class used to generate alternate user
    identifiers when Generate UserID Mode is enabled. The default value is
    <code class="literal">com.sun.identity.authentication.spi.DefaultUserIDGenerator</code>.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-username-generator-class</code></p></dd><dt><span class="term">User Attribute Mapping to Session Attribute</span></dt><dd><p>Enables the authenticating user's identity attributes (stored in
    the identity repository) to be set as session properties in the user's
    SSOToken. The value takes the format
    <code class="literal"><em class="replaceable"><code>User-Profile-Attribute</code></em>|<em class="replaceable"><code>Session-Attribute-Name</code></em></code>.
    If <em class="replaceable"><code>Session-Attribute-Name</code></em> is not specified,
    the value of <em class="replaceable"><code>User-Profile-Attribute</code></em> is used.
    All session attributes contain the <code class="literal">am.protected</code> prefix
    to ensure that they cannot be edited by the Client SDK.</p><p>For example, if you define the user profile attribute as mail and
    the user's email address (available in the user session) as
    <code class="literal">user.mail</code>, the entry for this attribute would be
    <code class="literal">mail|user.mail</code>. After a successful authentication,
    the <code class="literal">SSOToken.getProperty(String)</code> method is used to
    retrieve the user profile attribute set in the session. The user's email
    address is retrieved from the user's session using the
    <code class="literal">SSOToken.getProperty("am.protected.user.mail")</code> method
    call.</p><p>Properties that are set in the user session using User Attribute
    Mapping to Session Attributes can not be modified (for example,
    <code class="literal">SSOToken.setProperty(String, String)</code>). This results in
    an <code class="literal">SSOException</code>. Multi-value attributes, such as
    <code class="literal">memberOf</code>, are listed as a single session variable
    with a <code class="literal">|</code> separator.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMUserAttributesSessionMapping</code></p></dd></dl></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="datastore-module-conf-hints"></a>2.2.6.&nbsp;Hints For the Data Store Authentication Module</h3></div></div></div><p>The Data Store authentication module allows a login using the Identity
    Repository of the realm to authenticate users. Using the Data Store module
    removes the requirement to write an authentication plug-in module, load,
    and then configure the authentication module if you need to authenticate
    against the same data store repository. Additionally, you do not need to
    write a custom authentication module where flat-file authentication is
    needed for the corresponding repository in that realm.</p><p>Yet, the Data Store module is generic. It does not implement data
    store-specific capabilities such as the password policy and password reset
    features provided by LDAP modules. Therefore the Data Store module returns
    failure when such capabilities are invoked.</p><a class="indexterm" name="d0e2586"></a><p><span class="command"><strong>ssoadm</strong></span> service name:
    <code class="literal">sunAMAuthDataStoreService</code></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Authentication Level</span></dt><dd><p>Sets the authentication level used to indicate the level of security
    associated with the module. The value can range from 0 to any positive integer.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthDataStoreAuthLevel</code></p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="device-print-auth-module-conf-hints"></a>2.2.7.&nbsp;Hints For the Device Print Authentication Module</h3></div></div></div><p>The Device Print module is a device fingerprinter. It collects information about client
    device locations, fonts, plugins, and more through their browsers. This module does not
    stand on its own, as it uses authentication information from a service to validate a username.
    The Device Print module then validates other characteristics of the user's system.</p><p>If no device print profile is stored for a user, then the user is prompted to fill in an
    HMAC One-Time Password (HOTP),
    sent by email or text. The user can then save that device print profile. On subsequent requests
    the user's device profile is recalled. Each of the device print attributes from the client
    are compared against each of the stored attributes. If the differences exceed a configured
    number of penalty points, the user is asked for another HOTP.</p><p>If you know the HOTP module, some of the attributes in this section may seem familiar. That
    is intentional, as the Device Print module includes all HOTP attributes, though not in the same
    order.</p><div class="note"><h4 class="title">Note</h4><p>The following example
    assumes that the Device Print module comes after LDAP authentication. Alternatively, you could
    set it up after another directory service module such as Active Directory, Data Store, RADIUS, or
    Windows NT.</p></div><a class="indexterm" name="d0e2623"></a><div class="mediaobject" align="center"><a name="figure-device-print-module"></a><img src="images/device-print-module.png" align="middle" height="360" alt="Including the Device Print module in an authentication chain"></div><p>A device fingerprint is based on the unique characteristics of a user like yourself and your
    associated device. You can configure the characteristics that should be part of the fingerprint.
    These characteristics can include:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>User agents, associated with the configuration of a web browser.</p></li><li class="listitem"><p>Installed fonts.</p></li><li class="listitem"><p>The plugins installed for the web browser.</p></li><li class="listitem"><p>The resolution and color depth associated with a display</p></li><li class="listitem"><p>The timezone or even the geolocation of a device.</p></li></ul></div><p>You can specify <code class="literal">penalty points</code> when characteristics of the fingerprint have
    changed. If the total <code class="literal">penalty points</code> exceeds some configured score, the user may
    be asked to verify their identity using HOTP.</p><p>The default value for each <code class="literal">*-penalty-points</code>
    attribute is 35, with a <code class="literal">*-max-tolerated-penalty-points</code> of 50.
    In other words, if more than one characteristic of the device fingerprint has changed, the
    module assumes that the user is trying to connect from a different system.</p><p><span class="command"><strong>ssoadm</strong></span> service name:
    <code class="literal">iPlanetAMAuthDevicePrintModuleService</code></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Authentication Level</span></dt><dd><p>Sets the authentication level used to indicate the level of security
    associated with the module. The value can range from 0 to any positive integer.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-adaptive-auth-level</code></p></dd><dt><span class="term">Profile expiration days</span></dt><dd><p>The list of device attributes is collected in a profile, which automatically expires
    in a given number of days. Default: 30.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-adaptive-device-print-profile-expiration-days</code></p></dd><dt><span class="term">Maximum stored profile quantity</span></dt><dd><p>The number of device profiles may be limited by user. Default: 5.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-adaptive-device-print-maximum-profiles-stored-quantity</code></p></dd><dt><span class="term">Automatically store new profiles</span></dt><dd><p>When enabled, new device profiles are automatically stored, once the HOTP is verified.
    Otherwise, the user is prompted for confirmation.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-adaptive-device-print-store-profiles-without-confirmation</code></p></dd><dt><span class="term">Default user profile name</span></dt><dd><p>Every device requires a default profile name that represents the user.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-adaptive-device-print-default-profile-name</code></p></dd><dt><span class="term">User agent penalty points</span></dt><dd><p>Specifies the number of penalty points added when there is a difference between the current
    and stored user agent. The module adds a fixed number of points if the web browser or
    related fields are changed. Version differences are ignored if the
    <code class="literal">User-Agent version ignore</code> attribute is active. Default: 35.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-adaptive-device-print-user-agent-penalty-points</code></p></dd><dt><span class="term">Installed fonts penalty points</span></dt><dd><p>Frequently, when a user installs a new software component, additional fonts are installed.
    The Device Print module adds a fixed number of penalty points if there is a change in the
    installed fonts since the last login beyond some maximum tolerated level, and the
    <code class="literal">Installed fonts required</code> attribute is enabled. Default: 35.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-adaptive-device-print-installed-fonts-penalty-points</code></p></dd><dt><span class="term">Installed plugins penalty points</span></dt><dd><p>Most devices have a number of plugins installed on their browsers, such as Java, Flash, and
    document readers. If the plugins feature is enabled, and there is a change beyond a maximum
    tolerated level, a fixed number of penalty points is added. Default: 35.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-adaptive-device-print-installed-plugins-penalty-points</code></p></dd><dt><span class="term">Screen color depth penalty points</span></dt><dd><p>Most client devices are connected to a color monitor, or at least have settings related to
    such a device. If the <code class="literal">Screen parameters</code> feature is enabled, and a change in
    color depth is detected, a fixed number of penalty points is added. Default: 35.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-adaptive-device-print-screen-color-depth-penalty-points</code></p></dd><dt><span class="term">Screen resolution penalty points</span></dt><dd><p>Differences in screen resolution sometimes indicate that the user has changed monitors, or
    perhaps is adjusting to changing eyesight. Whenever a different screen resolution is detected,
    a fixed number of penalty points is added. Default: 35.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-adaptive-device-print-screen-resolution-penalty-points</code></p></dd><dt><span class="term">Timezone penalty points</span></dt><dd><p>Whenever a connection is made from a different timezone, the Device Print module normally
    adds a fixed number of penalty points. Organizations where most users travel may want to set
    this attribute to a lower value. Default: 35.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-adaptive-device-print-timezone-penalty-points</code></p></dd><dt><span class="term">Allowed location range</span></dt><dd><p>If geolocation is enabled, each profile should include a geographic location. The allowed
    location range specifies a maximum distance, in miles. If a user has travelled beyond that distance,
    the <code class="literal">Location penalty points</code> is added to the total. Default: 100.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-adaptive-device-print-location-allowed-range</code></p></dd><dt><span class="term">User-Agent version ignore</span></dt><dd><p>Upgrades change the version associated with a user agent. Unless this option is enabled, every
    change in the version of a browser or related fields is detected as a difference with the stored
    profile.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-adaptive-device-print-ignore-version-in-user-agent</code></p></dd><dt><span class="term">Max number of tolerated different installed fonts</span></dt><dd><p>If the <code class="literal">Installed fonts required</code> attribute is enabled, a comparison is made
    in installed fonts between the existing and stored profiles.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-adaptive-device-print-max-tolerated-diffs-in-installed-fonts</code></p></dd><dt><span class="term">Max tolerated percentage difference between installed fonts</span></dt><dd><p>If the <code class="literal">Installed fonts required</code> attribute is enabled, a comparison is made
    in installed fonts between the existing and stored profiles. Any differences in number of fonts
    is noted in percent.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-adaptive-device-print-max-tolerated-percentage-to-mark-as-different-installed-fonts</code></p></dd><dt><span class="term">Max number of tolerated different installed plugins</span></dt><dd><p>If the <code class="literal">Installed plugins required</code> attribute is enabled, a comparison is made
    between the installed plugins defined in the existing and stored profiles.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-adaptive-device-print-max-tolerated-diffs-in-installed-plugins</code></p></dd><dt><span class="term">Max tolerated percentage difference between installed plugins</span></dt><dd><p>If the <code class="literal">Installed plugins required</code> attribute is enabled, a comparison is
    made between the installed plugins defined in the existing and stored profiles. Any differences
    in number of plugins is noted in percent.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-adaptive-device-print-max-tolerated-percentage-to-mark-as-different-plugins</code></p></dd><dt><span class="term">User agent required</span></dt><dd><p>The user agent, as defined by <a class="link" href="http://tools.ietf.org/html/rfc4226#section-14.43" target="_blank">RFC 4226 Section 14.43</a>
    provides information about the browser, and frequently on the operating system. Default:
    enabled.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-adaptive-device-print-user-agent-required</code></p></dd><dt><span class="term">Installed plugins required</span></dt><dd><p>Plugins are components that add a specific feature to an existing application. In this
    context, examples of browser plugins are flash, java, and shockwave.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-adaptive-device-print-plugins-required</code></p></dd><dt><span class="term">Installed fonts required</span></dt><dd><p>Fonts are frequently added to an operating system when new applications are installed. If
    enabled, installed font information is stored as part of the profile, and checked upon
    reconnection for comparison.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-adaptive-device-print-fonts-required</code></p></dd><dt><span class="term">Geolocation required</span></dt><dd><p>The geographic location of a device can be tracked. Can be used to limit access from this device to a
    specified range.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-adaptive-device-print-geolocation-required</code></p></dd><dt><span class="term">Screen parameters required</span></dt><dd><p>Display parameters can be used to help differentiate a profile. If enabled, the Device Print module uses
    screen color depth and resolution.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-adaptive-device-print-screen-params-required</code></p></dd><dt><span class="term">Time zone required</span></dt><dd><p>The time zone of the current and stored profiles can be collected and compared.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-adaptive-device-print-timezone-required</code></p></dd><dt><span class="term">Location penalty points</span></dt><dd><p>If geo-location has been enabled, and the current location does not match the value stored in
    the profile this many points are added as a penalty. Default: 35.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-adaptive-device-print-location-penalty-points</code></p></dd><dt><span class="term">Maximum tolerated penalty points</span></dt><dd><p>A limit, in number of points, between the current and stored Device Print profiles. If the
    total is below that value, the Device Print module sees a match. Default: 50.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-adaptive-device-print-max-tolerated-penalty-points</code></p></dd><dt><span class="term">SMS Gateway Implementation Class</span></dt><dd><p>Change this if you must customize the SMS gateway implementation.
    The default class sends an SMS or email, depending on the
    configuration.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthHOTPSMSGatewayImplClassName</code></p></dd><dt><span class="term">Mail Server Host Name</span></dt><dd><p>Host name of the mail server supporting Simple Message Transfer
    Protocol for electronic mail.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthHOTPSMTPHostName</code></p></dd><dt><span class="term">Mail Server Host Port</span></dt><dd><p>The default outgoing mail server port is 25, 465
    (when connecting over SSL).</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthHOTPSMTPHostPort</code></p></dd><dt><span class="term">Mail Server Authentication Username</span></dt><dd><p>User name for OpenAM to connect to the mail server.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthHOTPSMTPUserName</code></p></dd><dt><span class="term">Mail Server Authentication Password</span></dt><dd><p>Password for OpenAM to connect to the mail server.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthHOTPSMTPUserPassword</code></p></dd><dt><span class="term">Mail Server Secure Connection</span></dt><dd><p>If OpenAM connects to the mail server securely, OpenAM must be able
    to trust the server certificate.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthHOTPSMTPSSLEnabled</code></p></dd><dt><span class="term">Email From Address</span></dt><dd><p>The <code class="literal">From:</code> address when sending a one-time
    password by mail.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthHOTPSMTPFromAddress</code></p></dd><dt><span class="term">One Time Password Validity Length (in minutes)</span></dt><dd><p>One-time passwords are valid for 5 minutes after they are generated
    by default.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthHOTPPasswordValidityDuration</code></p></dd><dt><span class="term">One Time Password Length (in digits)</span></dt><dd><p>Set the length of the one-time password to 6 or 8 digits.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthHOTPPasswordLength</code></p></dd><dt><span class="term">One Time Password Delivery</span></dt><dd><p>Send the one-time password by SMS, by mail, or both.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthHOTPasswordDelivery</code></p></dd><dt><span class="term">Mobile Phone Number Attribute Names</span></dt><dd><p>Provides the attribute name used for the text message. The
    default value is <code class="literal">telephoneNumber</code>.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openamTelephoneAttribute</code></p></dd><dt><span class="term">Mobile Carrier Attribute Name</span></dt><dd><p>Provides the name of the carrier that will send the text
    message.</p><p>Every carrier has their own attribute name ending, for example Verizon
    uses @vtext.com or vtext.com. Contact your mobile carrier to find out what their
    attribute name is. If you will be sending international texts, ask your carrier
    if a country code is a required.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openamSMSCarrierAttribute</code></p></dd><dt><span class="term">Email Attribute Name</span></dt><dd><p>Provides the attribute name used to email the OTP. The
    default value is <code class="literal">mail</code> (email).</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openamEmailAttribute</code></p></dd><dt><span class="term">Auto Send OTP Code</span></dt><dd><p>Setup the HOTP module to automatically generate an email
    or text message when users begin the login process. </p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthHOTPAutoClicking</code></p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="federation-module-conf-hints"></a>2.2.8.&nbsp;Hints For the Federation Authentication Module</h3></div></div></div><p>The Federation authentication module is used by a service provider
    to create a user session after validating single sign-on protocol messages.
    This authentication module is used by the SAML, SAMLv2, ID-FF, and
    WS-Federation protocols.</p><a class="indexterm" name="d0e3189"></a><p><span class="command"><strong>ssoadm</strong></span> service name:
    <code class="literal">sunAMAuthFederationService</code></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Authentication Level</span></dt><dd><p>Sets the authentication level used to indicate the level of security
    associated with the module. The value can range from 0 to any positive integer.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthFederationAuthLevel</code></p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="hotp-module-conf-hints"></a>2.2.9.&nbsp;Hints For the HOTP Authentication Module</h3></div></div></div><p>The HMAC One-Time Password authentication module works together with
    the Data Store module to retrieve a user's mail address or telephone number
    to send a one-time password to complete authentication.</p><p>To use HOTP you set up an authentication chain with the Data Store
    module as the <code class="literal">requisite</code> first module, and the HOTP module
    as the second <code class="literal">requisite</code> module. When authentication
    succeeds against the Data Store module, OpenAM passes the Email Address
    and Telephone Number attributes from the user profile to the HOTP module.
    For the HOTP module to use either attribute, the Email Address must contain
    a valid email address, or the Telephone Number must contain a valid
    SMS telephone number.</p><p>You can set the HOTP module to automatically generate a password when
    users begin logging into the system. You can also setup a mobile phone,
    mobile carrier, and email attributes for tighter controls over where
    the messages are generated and what provider the messages go through to reach
    the user.</p><a class="indexterm" name="d0e3228"></a><p><span class="command"><strong>ssoadm</strong></span> service name:
    <code class="literal">sunAMAuthHOTPService</code></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Authentication Level</span></dt><dd><p>Sets the authentication level used to indicate the level of security
    associated with the module. The value can range from 0 to any positive integer.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthHOTPAuthLevel</code></p></dd><dt><span class="term">SMS Gateway Implementation Class</span></dt><dd><p>Change this if you must customize the SMS gateway implementation.
    The default class sends an SMS or email, depending on the
    configuration.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthHOTPSMSGatewayImplClassName</code></p></dd><dt><span class="term">Mail Server Host Name</span></dt><dd><p>Host name of the mail server supporting Simple Message Transfer
    Protocol for electronic mail.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthHOTPSMTPHostName</code></p></dd><dt><span class="term">Mail Server Host Port</span></dt><dd><p>The default outgoing mail server port is 25, 465 (when connecting over SSL).</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthHOTPSMTPHostPort</code></p></dd><dt><span class="term">Mail Server Authentication Username</span></dt><dd><p>User name for OpenAM to connect to the mail server.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthHOTPSMTPUserName</code></p></dd><dt><span class="term">Mail Server Authentication Password</span></dt><dd><p>Password for OpenAM to connect to the mail server.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthHOTPSMTPUserPassword</code></p></dd><dt><span class="term">Mail Server Secure Connection</span></dt><dd><p>If OpenAM connects to the mail server securely, OpenAM must be able
    to trust the server certificate.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthHOTPSMTPSSLEnabled</code></p></dd><dt><span class="term">Email From Address</span></dt><dd><p>The <code class="literal">From:</code> address when sending a one-time
    password by mail.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthHOTPSMTPFromAddress</code></p></dd><dt><span class="term">One Time Password Validity Length (in minutes)</span></dt><dd><p>One-time passwords are valid for 5 minutes after they are generated
    by default.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthHOTPPasswordValidityDuration</code></p></dd><dt><span class="term">One Time Password Length (in digits)</span></dt><dd><p>Set the length of the one-time password to 6 or 8 digits.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthHOTPPasswordLength</code></p></dd><dt><span class="term">One Time Password Delivery</span></dt><dd><p>Send the one-time password by SMS, by mail, or both.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthHOTPasswordDelivery</code></p></dd><dt><span class="term">Mobile Phone Number Attribute Names</span></dt><dd><p>Provides the attribute name used for the text message. The
    default value is <code class="literal">telephoneNumber</code>.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openamTelephoneAttribute</code></p></dd><dt><span class="term">Mobile Carrier Attribute Name</span></dt><dd><p>Provides the name of the carrier that will send the text
    message.</p><p>Every carrier has their own attribute name ending, for example Verizon
    uses @vtext.com or vtext.com. Contact your mobile carrier to find out what their
    attribute name is. If you will be sending international texts, ask your carrier
    if a country code is a required.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openamSMSCarrierAttribute</code></p></dd><dt><span class="term">Email Attribute Name</span></dt><dd><p>Provides the attribute name used to email the OTP. The
    default value is <code class="literal">mail</code> (email).</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openamEmailAttribute</code></p></dd><dt><span class="term">Auto Send OTP Code</span></dt><dd><p>Setup the HOTP module to automatically generate an email
    or text message when users begin the login process. </p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthHOTPAutoClicking</code></p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="http-module-conf-hints"></a>2.2.10.&nbsp;Hints For the HTTP Basic Authentication Module</h3></div></div></div><p>HTTP basic authentication takes a user name and password from HTTP
    authentication and tries authentication against the backend module in OpenAM,
    depending on what you configure as the Backend Module Name.</p><a class="indexterm" name="d0e3436"></a><p><span class="command"><strong>ssoadm</strong></span> service name:
    <code class="literal">iPlanetAMAuthHTTPBasicService</code></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Backend Module Name</span></dt><dd><p>Specifies the module that checks the user credentials. The credentials are
    then supplied to either a Data Store or other identity repository module for authentication.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-http-basic-module-configured</code></p></dd><dt><span class="term">Authentication Level</span></dt><dd><p>Sets the authentication level used to indicate the level of security
    associated with the module. The value can range from 0 to any positive integer.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-httpbasic-auth-level</code></p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="jdbc-module-conf-hints"></a>2.2.11.&nbsp;Hints For the JDBC Authentication Module</h3></div></div></div><p>The Java Database Connectivity (JDBC) module lets OpenAM connect to
    a database such as MySQL or Oracle DB to authenticate users.</p><a class="indexterm" name="d0e3477"></a><p><span class="command"><strong>ssoadm</strong></span> service name:
    <code class="literal">sunAMAuthJDBCService</code></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Connection Type</span></dt><dd><p>Choose Connection pool is retrieved via JNDI to connect using the
    Java Naming and Directory Interface connection pool supported by the web
    container in which OpenAM runs. Choose Non-persistent JDBC connection to
    connect directly through the JDBC driver.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthJDBCConnectionType</code></p></dd><dt><span class="term">Connection Pool JNDI Name</span></dt><dd><p>When using Connection pool is retrieved via JNDI, this specifies
    the pool. How you configure connection pooling depends on the web
    container where you run OpenAM. Refer to the documentation for your
    web container for instructions on setting up connection pooling.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthJDBCJndiName</code></p></dd><dt><span class="term">JDBC Driver</span></dt><dd><p>When using Non-persistent JDBC connection, this specifies the JDBC
    driver provided by the database.</p><p>The .jar containing the JDBC driver belongs in the
    <code class="filename">WEB-INF/lib</code> directory of the deployed OpenAM
    instance, and so you should add it to a custom OpenAM .war file that you
    deploy.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthJDBCDriver</code></p></dd><dt><span class="term">JDBC URL</span></dt><dd><p>When using Non-persistent JDBC connection, this specifies the URL
    to connect to the database.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthJDBCUrl</code></p></dd><dt><span class="term">Database Username</span></dt><dd><p>Specify the user name to open the database connection.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthJDBCDbuser</code></p></dd><dt><span class="term">Database Password</span></dt><dd><p>Specify the password for the user opening the database connection.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthJDBCDbpassword</code></p></dd><dt><span class="term">Password Column Name</span></dt><dd><p>Specify the database column name where passwords are stored.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthJDBCPasswordColumn</code></p></dd><dt><span class="term">Prepared Statement</span></dt><dd><p>Specify the SQL query to return the password corresponding to the
    user to authenticate.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthJDBCStatement</code></p></dd><dt><span class="term">Class to Transform Password Syntax</span></dt><dd><p>Specify the class that transforms the password retrieved to the
    same format as provided by the user.</p><p>The default class expects the password in clear text. Custom
    classes must implement the
    <code class="literal">JDBCPasswordSyntaxTransform</code> interface.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthJDBCPasswordSyntaxTransformPlugin</code></p></dd><dt><span class="term">Authentication Level</span></dt><dd><p>Sets the authentication level used to indicate the level of security
    associated with the module. The value can range from 0 to any positive integer.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthJDBCAuthLevel</code></p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="ldap-module-conf-hints"></a>2.2.12.&nbsp;Hints For the LDAP Authentication Module</h3></div></div></div><p>OpenAM connects to directory servers using Lightweight Directory
    Access Protocol (LDAP). To build an easy-to-manage, high performance, pure
    Java, open source directory service, try
    <a class="link" href="http://opendj.org" target="_top">OpenDJ</a> directory services.</p><a class="indexterm" name="d0e3627"></a><p><span class="command"><strong>ssoadm</strong></span> service name:
    <code class="literal">iPlanetAMAuthLDAPService</code></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Primary LDAP Server, </span><span class="term">Secondary LDAP Server</span></dt><dd><p>Directory servers generally use built-in data replication for high
    availability. Thus a directory service likely consists of a pool of
    replicas to which OpenAM can connect to retrieve and update directory
    data. You set up primary and secondary servers in case a replica is down
    due to maintenance or to a problem with a particular server.</p><p>Set one primary and optionally one secondary directory server for
    each OpenAM server. For the current OpenAM server, specify each directory
    server as a
    <code class="literal"><em class="replaceable"><code>host</code></em>:<em class="replaceable"><code>port</code></em></code>
    combination. For other OpenAM servers in the deployment, you can specify
    each directory server as
    <code class="literal"><em class="replaceable"><code>server-name</code></em>|<em class="replaceable"><code>host</code></em>:<em class="replaceable"><code>port</code></em></code>,
    where <em class="replaceable"><code>server-name</code></em> is the FQDN portion of the
    OpenAM server from the list under Configuration &gt; Servers and
    Sites, and <em class="replaceable"><code>host</code></em>:<em class="replaceable"><code>port</code></em>
    identifies the directory server.</p><p>For example, if the <em class="replaceable"><code>server-name</code></em>
    that is listed is <code class="literal">http://openam.example.com:8080/openam</code>
    and the directory server is accessible at <code class="literal">opendj.example.com:1389</code>,
    you would enter <code class="literal">openam.example.com|opendj.example.com:1389</code>.</p><p>When authenticating users from a directory service that is remote
    from OpenAM, set both the primary and secondary server values.</p><p>If you want to use SSL or TLS for security, then scroll down to
    enable SSL/TLS Access to LDAP Server. Make sure that OpenAM
    can trust the servers' certificates when using this option.</p><p><span class="command"><strong>ssoadm</strong></span> attributes:
    primary is <code class="literal">iplanet-am-auth-ldap-server</code>,
    secondary is <code class="literal">iplanet-am-auth-ldap-server2</code>, and
    <code class="literal">iplanet-am-auth-ldap-ssl-enabled</code></p></dd><dt><span class="term">DN to Start User Search</span></dt><dd><p>LDAP data is organized hierarchically, a bit like a file system
    on Windows or UNIX. More specific DNs likely result in better search
    performance. When configuring the module for a particular part of the
    organization, you can perhaps start searches from a specific
    organizational unit such as
    <code class="literal">ou=sales,dc=example,dc=com</code>.</p><p>If multiple entries exist with identical search attribute values,
    make this value specific enough to return only one entry.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal"> iplanet-am-auth-ldap-base-dn</code></p></dd><dt><span class="term">Bind User DN, Bind User Password</span></dt><dd><p>If OpenAM stores attributes in the directory, for example to
    manage account lockout, or if the directory requires that OpenAM
    authenticate in order to read users' attributes, then OpenAM needs the
    DN and password to authenticate to the directory.</p><p>The default is <code class="literal">cn=Directory Manager</code>. Make sure
    that password is correct before you logout. If it is incorrect, you will
    be locked out. If this should occur, you can login with the super user DN,
    which by default is
    <code class="literal">uid=amAdmin,ou=People,<em class="replaceable"><code>OpenAM-deploy-base</code></em></code>,
    where <em class="replaceable"><code>OpenAM-deploy-base</code></em> you set during
    OpenAM configuration.</p><p><span class="command"><strong>ssoadm</strong></span> attributes:
    <code class="literal">iplanet-am-auth-ldap-bind-dn</code>,
    <code class="literal">iplanet-am-auth-ldap-bind-passwd</code></p></dd><dt><span class="term">Attributes Used to Retrieve User Profile, </span><span class="term">Attributes Used to Search for a User to be Authenticated, </span><span class="term">User Search Filter, </span><span class="term">Search Scope</span></dt><dd><p>LDAP searches for user entries return entries with attribute
    values matching the filter you provide. For example if you search under
    <code class="literal">ou=people,dc=example,dc=com</code> with a filter
    <code class="literal">"(mail=bjensen@example.com)"</code>, then the directory
    returns the entry that has <code class="literal">mail=bjensen@example.com</code>.
    In this example the attribute used to search for a user is
    <code class="literal">mail</code>. Multiple attribute values mean the user can
    authenticate with any one of the values. For example, if you have
    both <code class="literal">uid</code> and <code class="literal">mail</code>, then Barbara
    Jensen can authenticate with either <code class="literal">bjensen</code> or
    <code class="literal">bjensen@example.com</code>.</p><p>Should you require a more complex filter for performance, you
    add that to the User Search Filter text box. For example, if you search
    on <code class="literal">mail</code> and add User Search Filter
    <code class="literal">(objectClass=inetOrgPerson)</code>, then OpenAM uses the
    resulting search filter
    <code class="literal">(&amp;(mail=<em class="replaceable"><code>address</code></em>)(objectClass=inetOrgPerson))</code>,
    where <em class="replaceable"><code>address</code></em> is the mail address provided
    by the user.</p><p>Scope OBJECT means search only the entry specified as the DN to
    Start User Search, whereas ONELEVEL means search only the entries
    that are directly children of that object. SUBTREE means search the
    entry specified and every entry under it.</p><p><span class="command"><strong>ssoadm</strong></span> attributes:
    <code class="literal">iplanet-am-auth-ldap-user-naming-attribute</code>,
    <code class="literal">iplanet-am-auth-ldap-user-search-attributes</code>,
    <code class="literal">iplanet-am-auth-ldap-search-filter</code>, and
    <code class="literal">iplanet-am-auth-ldap-search-scope</code></p></dd><dt><span class="term">SSL/TLS Access to LDAP Server</span></dt><dd><p>If you enable SSL/TLS, OpenAM must be able to trust LDAP certificates, either because the certificates were
    signed by a CA whose certificate is already included in the trust store
    used by the container where OpenAM runs, or because you imported the
    certificates into the trust store.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-ldap-ssl-enabled</code></p></dd><dt><span class="term">Return User DN to Authenticate</span></dt><dd><p>When enabled, and OpenAM uses the directory service as the user
    store, the module returns the DN rather than the rather than the User ID,
    so the bind for authentication can be completed without a search to
    retrieve the DN.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-ldap-return-user-dn</code></p></dd><dt><span class="term">User Creation Attributes</span></dt><dd><p>This list lets you map (external) attribute names from Active
    Directory to (internal) attribute names used by OpenAM.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-ldap-user-creation-attr-list</code></p></dd><dt><span class="term">Minimum Password Length</span></dt><dd><p>Specify the minimum acceptable password length.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-ldap-min-password-length</code></p></dd><dt><span class="term">LDAP Behera Password Policy Support</span></dt><dd><p>When enabled, support interoperability with servers that implement
    the Internet-Draft, <a class="link" href="http://tools.ietf.org/html/draft-behera-ldap-password-policy-09" target="_top">Password Policy for LDAP Directories</a>.</p><p>Support for this Internet-Draft is limited to the LDAP
    authentication module. Other components of OpenAM, such as the password
    change functionality in the <code class="literal">/idm/EndUser</code> page, do
    not support the Internet-Draft. In general, outside of the LDAP
    authentication module, OpenAM binds to the directory server as an
    administrator, such as Directory Manager. When OpenAM binds to the
    directory server as an administrator rather than as an end user, many
    features of the Internet-Draft password policies do not apply.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-ldap-behera-password-policy-enabled</code></p></dd><dt><span class="term">Trust All Server Certificates</span></dt><dd><p>When enabled, blindly trust server certificates, including
    self-signed test certificates.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-ldap-ssl-trust-all</code></p></dd><dt><span class="term">LDAP Connection Heartbeat Interval</span></dt><dd><p>Specifies how often OpenAM should send a heartbeat request to the
    directory server to ensure that the connection does not remain idle. Some
    network administrators configure firewalls and load balancers to drop
    connections that are idle for too long. You can turn this off by setting
    the value to 0 or to a negative number. To set the units for the interval
    use LDAP Connection Heartbeat Time Unit.</p><p>Default: 1</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-ldap-heartbeat-interval</code></p></dd><dt><span class="term">LDAP Connection Heartbeat Time Unit</span></dt><dd><p>Specifies the time unit corresponding to LDAP Connection Heartbeat
    Interval.</p><p>Default: minute</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-ldap-heartbeat-interval</code></p></dd><dt><span class="term">Authentication Level</span></dt><dd><p>Sets the authentication level used to indicate the level of security
    associated with the module. The value can range from 0 to any positive integer.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-ldap-auth-level</code></p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="membership-module-conf-hints"></a>2.2.13.&nbsp;Hints For the Membership Authentication Module</h3></div></div></div><p>The Membership module permits self-registration for new users. You
    can then have OpenAM create new user profiles in the identity
    repository.</p><a class="indexterm" name="d0e3946"></a><p><span class="command"><strong>ssoadm</strong></span> service name:
    <code class="literal">iPlanetAMAuthMembershipService</code></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Minimum Password Length</span></dt><dd><p>Specify the minimum acceptable number of characters in the password
    provided during self-registration.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-membership-min-password-length</code></p></dd><dt><span class="term">Default User Roles</span></dt><dd><p>Specifies the Distinguished Name (DN) of a role to be assigned to
    a new user whose profile is created. There are no default values. The
    role specified must be within the realm for which the authentication
    process is configured.</p><p>This role can be either an OpenAM or Sun DSEE role, but it cannot
    be a filtered role. If you wish to automatically assign specific services
    to the user, you have to configure the Required Services attribute in
    the User Profile.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-membership-default-roles</code></p></dd><dt><span class="term">User Status After Registration</span></dt><dd><p>If you choose Inactive, then the new user has no access to services
    until an administrator activates the account.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-membership-default-user-status</code></p></dd><dt><span class="term">Authentication Level</span></dt><dd><p>Sets the authentication level used to indicate the level of security
    associated with the module. The value can range from 0 to any positive integer.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-membership-auth-level</code></p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="msisdn-module-conf-hints"></a>2.2.14.&nbsp;Hints For the MSISDN Authentication Module</h3></div></div></div><p>The Mobile Station Integrated Services Digital Network (MSISDN)
    authentication module enables non-interactive authentication using a mobile
    subscriber ISDN associated with a terminal such as a mobile phone.
    The module checks the subscriber ISDN against the value found on a user's
    entry in an LDAP directory service.</p><a class="indexterm" name="d0e4013"></a><p><span class="command"><strong>ssoadm</strong></span> service name:
    <code class="literal">sunAMAuthMSISDNService</code></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Trusted Gateway IP Address</span></dt><dd><p>Specifies a list of IP addresses of trusted clients that can access
    MSIDSN modules. Either restrict the clients allowed to access the MSISDN
    module by adding each IPv4 or IPv6 address here, or leave the list empty to allow
    all clients to access the module. If you specify the value
    <code class="literal">none</code>, no clients are allowed access.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthMSISDNTrustedGatewayList</code></p></dd><dt><span class="term">MSISDN Number Search Parameter Name</span></dt><dd><p>Specifies a list of parameter names that identify which parameters
    to search in the request header or cookie header for the MSISDN number.
    For example, if you define x-Cookie-Param, AM_NUMBER, and COOKIE-ID,
    the MSISDN authentication service checks those parameters for the
    MSISDN number.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthMSISDNParameterNameList</code></p></dd><dt><span class="term">LDAP Server and Port</span></dt><dd><p>If you want to use SSL or TLS for security, then scroll down to
    enable SSL/TLS Access to LDAP. Make sure that OpenAM can trust the
    servers' certificates when using this option.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthMSISDNLdapProviderUrl</code></p></dd><dt><span class="term">LDAP Start Search DN</span></dt><dd><p>Specify the DN of the entry where the search for the user's MSISDN
    number should start.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthMSISDNBaseDn</code></p></dd><dt><span class="term">Attribute To Use To Search LDAP</span></dt><dd><p>Specify the name of the attribute in the user's profile that
    contains the MSISDN number to search for the user. The default is
    <code class="literal">sunIdentityMSISDNNumber</code>.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthMSISDNUserSearchAttribute</code></p></dd><dt><span class="term">LDAP Server Authentication User</span></dt><dd><p>If OpenAM must authenticate to the directory server in order to
    search, then specify the bind DN. The default is
    <code class="literal">cn=amldapuser,ou=DSAME Users,dc=example,dc=com</code>.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthMSISDNPrincipalUser</code></p></dd><dt><span class="term">LDAP Server Authentication Password</span></dt><dd><p>Specify the password corresponding to the bind DN.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthMSISDNPrincipalPasswd</code></p></dd><dt><span class="term">SSL/TLS for LDAP Access</span></dt><dd><p>If you choose to enable SSL or TLS, then make sure that
    OpenAM can trust the servers' certificates.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthMSISDNUseSsl</code></p></dd><dt><span class="term">MSISDN Header Search Attribute</span></dt><dd><p>Specify the headers to use for searching the request for the
    MSISDN number.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Cookie Header tells OpenAM to search the cookie.</p></li><li class="listitem"><p>Request Header tells OpenAM to search the request header.</p></li><li class="listitem"><p>Request Parameter tells OpenAM to search the request parameters.</p></li></ul></div><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthMSISDNHeaderSearch</code></p></dd><dt><span class="term">LDAP Attribute Used to Retrieve User Profile</span></dt><dd><p>Specify the LDAP attribute that is used during a search to return
    the user profile for MSISDN authentication service. The default is
    <code class="literal">uid</code>.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthMSISDNUserNamingAttribute</code></p></dd><dt><span class="term">Return User DN to DataStore</span></dt><dd><p>Enable this option only when the OpenAM directory is the same as
    the directory configured for MSISDN searches. When enabled, this option
    allows the authentication module to return the DN instead of the User ID.
    OpenAM thus does not need to perform an additional search with the user
    ID to find the user's entry.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthMSISDNReturnUserDN</code></p></dd><dt><span class="term">Authentication Level</span></dt><dd><p>Sets the authentication level used to indicate the level of security
    associated with the module. The value can range from 0 to any positive integer.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthMSISDNAuthLevel</code></p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="OATH-module-conf-hints"></a>2.2.15.&nbsp;Hints For the OATH Module</h3></div></div></div><p>The Open Authentication (OATH) module provides a more secure method for users to
    access their accounts with the help of a device, such as their mobile phone or
    Yubikey. Users can log into OpenAM and update their information more securely from
    a one-time password (OTP) displayed on their device. The OATH module includes the
    <a class="link" href="http://www.openauthentication.org/about/" target="_blank">OATH standard protocols</a> (<a class="link" href="http://tools.ietf.org/html/rfc4226" target="_blank">RFC 4226</a> and
    <a class="link" href="http://tools.ietf.org/html/rfc6238" target="_blank">
        RFC 6238</a>). The OATH module has several enhancements to the
    HMAC One-Time Password (HOTP) Authentication Module, but does not replace the original
    module for those already using HOTP prior to the 10.1.0 release. The OATH module includes
    HOTP authentication and Time-Based One-Time Password (TOTP) authentication. Both types
    of authentication require an OATH compliant device that can provide the OTP.</p><a class="indexterm" name="d0e4205"></a><p> HOTP authentication generates the OTP every time the user requests a new OTP
    on their device. The device tracks the number of times the user requests a new OTP, called
    the counter. The OTP displays for a period of time you designate in the setup, so the
    user may be further in the counter on their device than on their account. OpenAM will resynchronize
    the counter when the user finally logs in. To accommodate this, you set the number of
    passwords a user can generate before their device cannot be resynchronized. For example, if
    you set the number of HOTP Window Size to 50 and someone presses the button 30 on the
    user's device to generate a new OTP, the counter in OpenAM will review the OTPs until
    it reaches the OTP entered by the user. If someone presses the button 51 times,
    you will need to reset the counter to match the number on the device's counter before the
    user can login to OpenAM. HOTP authentication does not check earlier passwords, so if the
    user attempts to reset the counter on their device, they will not be able to login until
    you reset the counter in OpenAM to match their device.</p><p>TOTP authentication constantly generates a new OTP based on a time interval you specify.
    The device tracks the last two passwords generated and the current password. The Last Login Time
    monitors the time when a user logs in to make sure that user is not logged in several times
    within the present time period. Once a user log into OpenAM, they must wait for the time it
    takes TOTP to generate the next two passwords and display them. This prevents others from
    being able to access the users account using the OTP they entered. The user's account can be
    accessed again after the generation of the third new OTP is generated and displayed on their
    device. For this reason, the TOTP Time-Step Interval should not be so long as to
    lock users out, with a recommended time of 30 seconds.</p><p>An authentication chain can be created to generate an OTP from
    either HOTP or TOTP.</p><p><span class="command"><strong>ssoadm</strong></span> service name:
    <code class="literal">iPlanetAMAuthOATHService</code></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Authentication Level</span></dt><dd><p>Sets the authentication level used to indicate the level of security
    associated with the module. The value can range from 0 to any positive integer.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-oath-auth-level</code></p></dd><dt><span class="term">One Time Password Length (in digits)</span></dt><dd><p>Set the length of the OTP between 6 and 9 digits long. The default value is 6 digits.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-oath-password-length</code></p></dd><dt><span class="term">Minimum Secret Key Length</span></dt><dd><p>The minimal number of characters required to set the Secret Key.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-oath-min-secret-key-length</code></p></dd><dt><span class="term">Secret Key Attribute Name</span></dt><dd><p>The name of the attribute where the key will be stored in the user profile.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-oath-secret-key-attribute</code></p></dd><dt><span class="term">OATH Algorithm to Use</span></dt><dd><p>Select whether to use HOTP or TOTP. You can create an authentication chain to
    allow for a greater variety of devices. The default value is HOTP.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-oath-algorithm</code></p></dd><dt><span class="term">HOTP Window Size</span></dt><dd><p>The number of requests that the system and the device can be off to resynchronize
    the password. If a user passes this number of requests before logging
    into the system, the password will not work. The default value is 100.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-oath-hotp-window-size</code></p></dd><dt><span class="term">Counter Attribute Name</span></dt><dd><p>The name of the HOTP attribute where the counter will be stored in the user profile.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-oath-hotp-counter-attribute</code></p></dd><dt><span class="term">Add Checksum Digit</span></dt><dd><p>Adds a checksum digit at the end of the HOTP password to verify it was entered correctly.
    The default value is No.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-oath-add-checksum</code></p></dd><dt><span class="term">Truncation Offset</span></dt><dd><p>Advanced feature that is device specific. Any value below 0 or above 15 will turn off
    the functionality. The default value is -1. If not required by the device, leave at the default
    setting.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-oath-truncation-offset</code></p></dd><dt><span class="term">TOTP Time Step Interval</span></dt><dd><p>Defines how long the password will appear on the user's device (in seconds).
    We recommend keeping this number low, for example 30 seconds, because once a user
    logs out, they will not be able to login again until two full time cycles have passed.
    The default value is 30 seconds.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-oath-size-of-time-step</code></p></dd><dt><span class="term">TOTP Time Steps</span></dt><dd><p>The number of requests that the system and the device can be off to resynchronize
    the password. If a user passes this number of requests before logging into the system,
    the password will not work. The default value is 2.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-oath-steps-in-window</code></p></dd><dt><span class="term">Last Login Time Attribute</span></dt><dd><p>The name of the attribute where both HOTP and TOTP authentication will store information
    on when a person last logged in.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-oath-last-login-time-attribute-name</code></p></dd></dl></div><p>If you plan to use Yubikey for your OATH module, you will need to take some
    time to set it up. Go to the <a class="link" href="http://www.yubico.com/products/services-software/personalization-tools/use/" target="_blank">
        YubiKey website</a> to configure your YubiKey device. If you do not have a
    YubiKey device, you can purchase them from this page as well.</p><p>Select the appropriate instructions, keeping in mind that the cross-platform
    personalization tool is recommended unless you have specific need for one of the
    other types. You have the greatest selection of platforms for this choice. Each
    device will need to be setup before use.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="oauth2-module-conf-hints"></a>2.2.16.&nbsp;Hints For the OAuth 2.0 Authentication Module</h3></div></div></div><p>The OAuth 2.0 authentication module lets OpenAM authenticate clients
    of OAuth resource servers. References in this section are to RFC 6749, <a class="link" href="http://tools.ietf.org/html/rfc6749" target="_blank">The OAuth
        2.0 Authorization Framework</a>.</p><a class="indexterm" name="d0e4382"></a><a class="indexterm" name="d0e4387"></a><div class="note"><h4 class="title">Note</h4><p>The default settings are for Facebook.</p></div><p><span class="command"><strong>ssoadm</strong></span> service name:
    <code class="literal">sunAMAuthOAuthService</code></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Client ID</span></dt><dd><p>OAuth <code class="literal">client_id</code> as described in
    <a class="link" href="http://tools.ietf.org/html/rfc6749#section-2.2" target="_blank">section 2.2 of RFC 6749</a>.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-oauth-client-id</code></p></dd><dt><span class="term">Client Secret</span></dt><dd><p>OAuth <code class="literal">client_secret</code> as described in
    <a class="link" href="http://tools.ietf.org/html/rfc6749#section-2.3" target="_blank">section 2.3 of RFC 6749</a>.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-oauth-client-secret</code></p></dd><dt><span class="term">Authentication Endpoint URL</span></dt><dd><p>URL to the end point handling OAuth authentication as described in
    <a class="link" href="http://tools.ietf.org/html/rfc6749#section-3.1" target="_blank">section 3.1 of RFC 6749</a>. The default value is
    <code class="literal">https://www.facebook.com/dialog/oauth</code>.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-oauth-auth-service</code></p></dd><dt><span class="term">Access Token Endpoint URL</span></dt><dd><p>URL to the end point handling access tokens as described in
    <a class="link" href="http://tools.ietf.org/html/rfc6749#section-3.2" target="_blank">section 3.2 of RFC 6749</a>. The default value is
    <code class="literal">https://graph.facebook.com/oauth/access_token</code>.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-oauth-token-service</code></p></dd><dt><span class="term">User Profile Service URL</span></dt><dd><p>User profile URL that returns profile information in JSON
    format. The default value is
    <code class="literal">https://graph.facebook.com/me</code>.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-oauth-user-profile-service</code></p></dd><dt><span class="term">Scope</span></dt><dd><p>Comma separated list of user profile attributes that the application
    requires. The default value is <code class="literal">email,read_stream</code>.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-oauth-scope</code></p></dd><dt><span class="term">Proxy URL</span></dt><dd><p>URL to the <code class="filename">/oauth2c/OAuthProxy.jsp</code> file,
    part of OpenAM.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-oauth-sso-proxy-url</code></p></dd><dt><span class="term">Account Mapper</span></dt><dd><p>Class implementing account mapping. The default value is
    <code class="literal">org.forgerock.openam.authentication.modules.oauth2.DefaultAccountMapper</code>.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">org-forgerock-auth-oauth-account-mapper</code></p></dd><dt><span class="term">Account Mapper Configuration</span></dt><dd><p>Map of OAuth Provider user account attributes used to find the
    local profile of the authenticated user, with values in the form
    <code class="literal"><em class="replaceable"><code>provider-attr</code></em>=<em class="replaceable"><code>local-attr</code></em></code>.
    Default values <code class="literal">email=mail</code> and <code class="literal"> id=facebook-id</code>.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">org-forgerock-auth-oauth-account-mapper-configuration</code></p></dd><dt><span class="term">Attribute Mapper</span></dt><dd><p>Class implementing attribute mapping. Default:
    <code class="literal">org.forgerock.openam.authentication.modules.oauth2.DefaultAttributeMapper</code></p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">org-forgerock-auth-oauth-attribute-mapper</code></p></dd><dt><span class="term">Attribute Mapper Configuration</span></dt><dd><p>Map of OAuth Provider user account attributes to local user profile
    attributes, with values in the form
    <code class="literal"><em class="replaceable"><code>provider-attr</code></em>=<em class="replaceable"><code>local-attr</code></em></code>.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">org-forgerock-auth-oauth-attribute-mapper-configuration</code></p></dd><dt><span class="term">Save attributes in the session</span></dt><dd><p>When enabled, add the mapped attributes to the session saved. The
    default mode is <code class="literal">Enabled</code>.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">org-forgerock-auth-oauth-save-attributes-to-session-flag</code></p></dd><dt><span class="term">Email attribute in OAuth2 Response</span></dt><dd><p>Specifies the attribute identifying email address in the response
    from the profile service in the OAuth provider. This setting is used to
    send an email address with an activation code for accounts created
    dynamically.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">org-forgerock-auth-oauth-mail-attribute</code></p></dd><dt><span class="term">Create account if it does not exist</span></dt><dd><p>When enabled, if the user profile does not exist, optionally
    retrieve a password and activation code from the user, and then create
    the profile. The default mode is <code class="literal">Enabled</code>.</p><p>When the OAuth 2.0 client is configured to create new accounts,
    the SMTP settings must also be valid. As part of account creation,
    the OAuth 2.0 client authentication module sends the resource owner
    an email with an account activation code. To send the mail, OpenAM
    uses the SMTP settings you provide here in the OAuth 2.0 client
    configuration.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">org-forgerock-auth-oauth-createaccount-flag</code></p></dd><dt><span class="term">Prompt for password setting and activation code</span></dt><dd><p>When enabled, the user sets a password, receives an activation code
    by email. The user must correctly set both in order for the account to
    be created.  The default mode is <code class="literal">Enabled</code>.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">org-forgerock-auth-oauth-prompt-password-flag</code></p></dd><dt><span class="term">Map to anonymous user</span></dt><dd><p>When enabled, map the OAuth authenticated user to the anonymous
    user you specify. No account is created, even if Create account if it
    does not exist is enabled.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">org-forgerock-auth-oauth-map-to-anonymous-flag</code></p></dd><dt><span class="term">Anonymous User</span></dt><dd><p>Specifies an anonymous user that exists in the current realm. The
    default is <code class="literal">anonymous</code>.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">org-forgerock-auth-oauth-anonymous-user</code></p></dd><dt><span class="term">OAuth 2.0 Provider logout service</span></dt><dd><p>Specifies the optional URL of the OAuth Provider.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">org-forgerock-auth-oauth-logout-service-url</code></p></dd><dt><span class="term">Logout options</span></dt><dd><p>Specifies whether not to log the user out without prompting from
    the OAuth Provider on logout, to log the user out without prompting, or
    to prompt the user regarding whether to logout from the OAuth
    provider.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">org-forgerock-auth-oauth-logout-behaviour</code></p></dd><dt><span class="term">Mail Server Gateway implementation class</span></dt><dd><p>Class to interact with the mail server. Default:
    <code class="literal">org.forgerock. openam.authentication.modules.oauth2.DefaultEmailGatewayImpl</code></p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">org-forgerock-auth-oauth-email-gwy-impl</code></p></dd><dt><span class="term">SMTP host</span></dt><dd><p>Host name of the mail server. The default is
    <code class="literal">localhost</code>.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">org-forgerock-auth-oauth-smtp-hostname</code></p></dd><dt><span class="term">SMTP port</span></dt><dd><p>SMTP port number for the mail server. The default value is
    <code class="literal">25</code>.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">org-forgerock-auth-oauth-smtp-port</code></p></dd><dt><span class="term">SMTP User Name</span></dt><dd><p>If the mail server requires authentication to send mail, specifies
    the user name.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">org-forgerock-auth-oauth-smtp-username</code></p></dd><dt><span class="term">SMTP User Password</span></dt><dd><p>If the mail server requires authentication to send mail, specifies
    the password.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">org-forgerock-auth-oauth-smtp-password</code></p></dd><dt><span class="term">SMTP SSL Enabled</span></dt><dd><p>When enabled, connect to the mail server over SSL. OpenAM must be
    able to trust the SMTP server certificate.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">org-forgerock-auth-oauth-smtp-ssl_enabled</code></p></dd><dt><span class="term">SMTP From address</span></dt><dd><p>Specifies the message sender address, such as
    <code class="literal">no-reply@example.com</code>. The default value is
    <code class="literal">info@forgerock.com</code>.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">org-forgerock-auth-oauth-smtp-email-from</code></p></dd><dt><span class="term">Authentication Level</span></dt><dd><p>Sets the authentication level used to indicate the level of security
    associated with the module. The value can range from 0 to any positive integer.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-oauth-auth-level</code></p></dd></dl></div><p>The following tables show endpoint URLs for OpenAM when <span class="olink">configured as an
    OAuth 2.0 provider</span>, and also URLs for large OAuth 2.0 providers.
    The default endpoints are for Facebook as the OAuth 2.0 provider.</p><p>In addition to the endpoint URLs you can set other fields, like scope
    and attribute mapping, depending on the provider you use.</p><div class="table"><a name="oauth2-openam"></a><div class="table-title">Table&nbsp;2.1.&nbsp;Endpoint URLs for OpenAM</div><div class="table-contents"><table class="table" summary="Endpoint URLs for OpenAM" width="100%" border="0"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th>OpenAM Field</th><th>Details</th></tr></thead><tbody><tr><td>Authentication Endpoint URL</td><td>
    <p><code class="literal">/oauth2/authorize</code> under the deployment
        URL.<a href="#ftn.oauth2-realms-footnote" class="footnote" name="oauth2-realms-footnote"><sup class="footnote">[a]</sup></a>
    </p>
    <p>Example: <code class="literal">https://openam.example.com:8443/openam/oauth2/authorize</code>.</p>
</td></tr><tr><td>Access Token Endpoint URL</td><td>
    <p><code class="literal">/oauth2/access_token</code> under the deployment
        URL.<a href="ch02.html#ftn.oauth2-realms-footnote" class="footnoteref"><sup class="footnoteref">[a]</sup></a></p>
    <p>Example: <code class="literal">https://openam.example.com:8443/openam/oauth2/access_token</code>.</p></td></tr><tr><td>User Profile Service URL</td><td>
    <p><code class="literal">/oauth2/tokeninfo</code> under the deployment URL.</p>
    <p>Example: <code class="literal">https://openam.example.com:8443/openam/oauth2/tokeninfo</code>.</p></td></tr></tbody><tbody class="footnotes"><tr><td colspan="2"><div id="ftn.oauth2-realms-footnote" class="footnote"><p><a href="#oauth2-realms-footnote" class="para"><sup class="para">[a] </sup></a>This OpenAM endpoint can take additional parameters. In
    particular you must specify the realm if the OpenAM OAuth 2.0
    provider is configured for a subrealm rather than / (Top-Level
    Realm).</p><p>For example, if the OAuth 2.0 provider is configured for the
    realm <code class="literal">/customers</code>, then the authentication endpoint
    URL is as follows:
    <code class="literal">https://openam.example.com:8443/openam/oauth2/authorize?realm=/customers</code></p><p>The <code class="literal">/oauth2/authorize</code> endpoint can also take
    <code class="literal">module</code> and <code class="literal">service</code> parameters.
    Use either as described in <span class="olink"><em class="citetitle">Authenticating To OpenAM</em></span>, where
    <code class="literal">module</code> specifies the authentication module
    instance to use or <code class="literal">service</code> specifies the
    authentication chain to use when authenticating the resource
    owner.</p></div></td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="oauth2-facebook"></a><div class="table-title">Table&nbsp;2.2.&nbsp;Endpoint URLs for Facebook</div><div class="table-contents"><table class="table" summary="Endpoint URLs for Facebook" width="100%" border="0"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th>OpenAM Field</th><th>Details</th></tr></thead><tbody><tr><td>Authentication Endpoint URL</td><td>https://www.facebook.com/dialog/oauth</td></tr><tr><td>Access Token Endpoint URL</td><td>https://graph.facebook.com/oauth/access_token</td></tr><tr><td>User Profile Service URL</td><td>https://graph.facebook.com/me</td></tr><tr><td>OAuth 2.0 Provider logout service</td><td>http://www.facebook.com/logout.php</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="oauth2-google"></a><div class="table-title">Table&nbsp;2.3.&nbsp;Endpoint URLs for Google</div><div class="table-contents"><table class="table" summary="Endpoint URLs for Google" width="100%" border="0"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th>OpenAM Field</th><th>Details</th></tr></thead><tbody><tr><td>Authentication Endpoint URL</td><td>https://accounts.google.com/o/oauth2/auth</td></tr><tr><td>Access Token Endpoint URL</td><td>https://accounts.google.com/o/oauth2/token</td></tr><tr><td>User Profile Service URL</td><td>https://www.googleapis.com/oauth2/v1/userinfo</td></tr><tr><td>OAuth 2.0 Provider logout service</td><td>https://mail.google.com/mail/?logout</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="oauth2-msn"></a><div class="table-title">Table&nbsp;2.4.&nbsp;Endpoint URLs for MSN</div><div class="table-contents"><table class="table" summary="Endpoint URLs for MSN" width="100%" border="0"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th>OpenAM Field</th><th>Details</th></tr></thead><tbody><tr><td>Authentication Endpoint URL</td><td>https://oauth.live.com/authorize</td></tr><tr><td>Access Token Endpoint URL</td><td>https://oauth.live.com/token</td></tr><tr><td>User Profile Service URL</td><td>https://apis.live.net/v5.0/me</td></tr><tr><td>OAuth 2.0 Provider logout service</td><td>http://oauth.live.com/logout</td></tr></tbody></table></div></div><br class="table-break"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="persistent-cookie"></a>2.2.17.&nbsp;Hints for the Persistent Cookie Module</h3></div></div></div><p>The Persistent Cookie module supports configuration of cookie lifetimes, based
    on requests and a maximum time. It is the preferred method for creating a persistent cookie.
    If you choose this method, be aware that it does not interact with the persistent cookie
    options associated with the Core Authentication module.</p><a class="indexterm" name="d0e5006"></a><p><span class="command"><strong>ssoadm</strong></span> service name:
    <code class="literal">iPlanetAMAuthPersistentCookieService</code></p><p>To configure the Persistent Cookie Module globally in the console, navigate to
    Configuration &gt; Authentication &gt; Persistent Cookie. In the window that appears
    you should see the following attributes:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Idle Timeout</span></dt><dd><p>Specify the maximum idle time between requests, in hours. If
    that time is exceeded, the cookie is no longer valid.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-persistent-cookie-idle-time</code></p></dd><dt><span class="term">Max Life</span></dt><dd><p>Specify the maximum life of the cookie in hours.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-persistent-cookie-max-life</code></p></dd></dl></div><p>The Persistent Cookie module belongs with a second module in an authentication chain. To see how
    this works, navigate to Access Control &gt; <em class="replaceable"><code>Realm Name</code></em> &gt; Authentication &gt; New.
    Enter a name for the chain and add modules as shown in the figure. The following example shows how a
    Persistent Cookie module is sufficient; if that cookie does not yet exist, authentication in this case
    relies on a data store module such as LDAP.</p><div class="mediaobject" align="center"><a name="figure-persistent-cookie"></a><img src="images/persistent-cookie-mod.png" align="middle" height="360" alt="Including the Persistent Cookie module in an authentication chain"></div><p>Scroll down in the properties page for the chain. You should set the
    <code class="literal">PersistentCookieAuthModule</code> as shown in the following figure:</p><div class="mediaobject" align="center"><a name="figure-persistent-cookie-class"></a><img src="images/persistent-cookie-class.png" align="middle" height="360" alt="Including the Persistent Cookie attribute in the post processing class"></div><p>You should now be able to authenticate automatically, as long as the cookie exists
    for the associated domain.</p><div class="note"><h4 class="title">Note</h4><p>Unlike the legacy Core Authentication module, the Persistent Cookie module does not
    support the iPSPCookie option described in <a class="xref" href="ch02.html#authn-from-browser" title="2.5.&nbsp;Authenticating To OpenAM">Section&nbsp;2.5, &#8220;Authenticating To OpenAM&#8221;</a></p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="radius-module-conf-hints"></a>2.2.18.&nbsp;Hints For the RADIUS Authentication Module</h3></div></div></div><p>The Remote Authentication Dial-In User Service (RADIUS) module lets
    OpenAM authenticate users against RADIUS servers.</p><a class="indexterm" name="d0e5081"></a><p><span class="command"><strong>ssoadm</strong></span> service name:
    <code class="literal">iPlanetAMAuthRadiusService</code></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Primary Radius Servers, Secondary Radius Servers</span></dt><dd><p>Specify the IP address or fully qualified domain name of the
    primary RADIUS server. The default is <code class="literal">127.0.0.1</code>
    (localhost loopback).</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">primary is iplanet-am-auth-radius-server1</code>;
    secondary is <code class="literal">iplanet-am-auth-radius-server2</code></p></dd><dt><span class="term">Shared Secret</span></dt><dd><p>Specify the shared secret for RADIUS authentication. The shared
    secret should be as secure as a well-chosen password.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-radius-secret</code></p></dd><dt><span class="term">Port Number</span></dt><dd><p>Specify the RADIUS server port. Default is 1645.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-radius-server-port</code></p></dd><dt><span class="term">Timeout</span></dt><dd><p>Specify how many seconds to wait for the RADIUS server to respond.
    The default value is 3 seconds.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-radius-timeout</code></p></dd><dt><span class="term">Health check interval</span></dt><dd><p>Used for failover. Specify how often OpenAM performs a health check
    on a previously unavailable RADIUS server by sending an invalid
    authentication request. Default: 5 minutes</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">openam-auth-radius-healthcheck-interval</code></p></dd><dt><span class="term">Authentication Level</span></dt><dd><p>Sets the authentication level used to indicate the level of security
    associated with the module. The value can range from 0 to any positive integer.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-radius-auth-level</code></p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="sae-module-conf-hints"></a>2.2.19.&nbsp;Hints For the SAE Authentication Module</h3></div></div></div><p>The Secure Attribute Exchange (SAE) module lets OpenAM authenticate
    a user who has already authenticated with an entity that can vouch for
    the user to OpenAM, so that OpenAM creates a session for the user.
    This module is useful in virtual federation, where an existing entity
    instructs the local OpenAM instance to use federation protocols to transfer
    authentication and attribute information to a partner application.</p><a class="indexterm" name="d0e5176"></a><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthSAEService</code></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Authentication Level</span></dt><dd><p>Sets the authentication level used to indicate the level of security
    associated with the module. The value can range from 0 to any positive integer.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunAMAuthSAEAuthLevel</code></p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="securid-module-conf-hints"></a>2.2.20.&nbsp;Hints For the SecurID Authentication Module</h3></div></div></div><p>The SecurID module lets OpenAM authenticate users with RSA
    Authentication Manager software and RSA SecurID authenticators.</p><a class="indexterm" name="d0e5205"></a><p><span class="command"><strong>ssoadm</strong></span> service name:
    <code class="literal">iPlanetAMAuthSecurIDService</code></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">ACE/Server Configuration Path</span></dt><dd><p>Specify the directory in which the SecurID ACE/Server
    <code class="filename">sdconf.rec</code> file is located, which by default is
    expected under the configuration directory for OpenAM, such as
    <code class="filename">$HOME/openam/openam/auth/ace/data</code>. The directory
    must exist before OpenAM can use SecurID authentication.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-securid-server-config-path</code></p></dd><dt><span class="term">Authentication Level</span></dt><dd><p>Sets the authentication level used to indicate the level of security
    associated with the module. The value can range from 0 to any positive integer.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-securid-auth-level</code></p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="desktop-module-conf-hints"></a>2.2.21.&nbsp;Hints For the Windows Desktop SSO Authentication Module</h3></div></div></div><p>The Windows Desktop SSO module uses Kerberos authentication. The user
    presents a Kerberos token to OpenAM through the Simple and Protected
    GSS-API Negotiation Mechanism (SPNEGO) protocol. The Windows Desktop SSO
    authentication module enables desktop single sign on such that a user who
    has already authenticated with a Kerberos Key Distribution Center can
    authenticate to OpenAM without having to provide the login information
    again. Users might need to set up Integrated Windows Authentication in
    Internet Explorer to benefit from single sign on when logged on to
    a Windows desktop.</p><a class="indexterm" name="d0e5252"></a><a class="indexterm" name="d0e5257"></a><p><span class="command"><strong>ssoadm</strong></span> service name:
    <code class="literal">iPlanetAMAuthWindowsDesktopSSOService</code></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Service Principal</span></dt><dd><p>Specify the Kerberos principal for authentication in the following
    format.</p><pre class="literallayout">HTTP/<em class="replaceable"><code>host</code></em>.<em class="replaceable"><code>domain</code></em>@<em class="replaceable"><code>dc-domain-name</code></em></pre><p>Here, <em class="replaceable"><code>host</code></em> and
    <em class="replaceable"><code>domain</code></em> correspond to the host and domain names
    of the OpenAM instance, and <em class="replaceable"><code>dc-domain-name</code></em>
    is the domain name of the Windows Kerberos domain controller server.
    The <em class="replaceable"><code>dc-domain-name</code></em> can differ from the domain
    name for OpenAM.</p><p>You set up the account on the Windows domain controller, creating
    a computer account for OpenAM and associating the new account with a
    service provider name.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-windowsdesktopsso-principal-name</code></p></dd><dt><span class="term">Keytab File Name</span></dt><dd><p>Specify the full path of the keytab file for the Service Principal.
    You generate the keytab file using the Windows <span class="command"><strong>ktpass</strong></span>
    utility.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-windowsdesktopsso-keytab-file</code></p></dd><dt><span class="term">Kerberos Realm</span></dt><dd><p>Specify the Kerberos Key Distribution Center realm. For the
    Windows Kerberos service this is the domain controller server domain
    name.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-windowsdesktopsso-kerberos-realm</code></p></dd><dt><span class="term">Kerberos Server Name</span></dt><dd><p>Specify the fully qualified domain name of the Kerberos Key
    Distribution Center server, such as that of the domain controller
    server.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-windowsdesktopsso-kdc</code></p></dd><dt><span class="term">Return Principal with Domain Name</span></dt><dd><p>When enabled, OpenAM automatically returns the Kerberos principal
    with the domain controller's domain name during authentication.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-windowsdesktopsso-returnRealm</code></p></dd><dt><span class="term">Authentication Level</span></dt><dd><p>Sets the authentication level used to indicate the level of security
    associated with the module. The value can range from 0 to any positive integer.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-windowsdesktopsso-auth-level</code></p></dd><dt><span class="term">Search for the user in the realm</span></dt><dd><p>Validates the user against the configured data stores. If the user from the
    Kerberos token is not found, authentication will fail. If an authentication
    chain is set, the user will be able to authenticate through another module.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-windowsdesktopsso-lookupUserInRealm</code></p></dd></dl></div><div class="note"><h4 class="title">Note</h4><p>Note: For Windows 7 and later, you will need to turn off the "Enable
    Integrated Windows Authentication" option in Internet Explorer. In addition, you
    will need to add and activate the DisableNTMLPreAuth key to the Windows Registry.
    For detailed instructions, see the Microsoft KB article on when <a class="link" href="http://support.microsoft.com/kb/251404" target="_blank"><em class="citetitle">You cannot post data
        to a non-NTLM-authenticated Web site</em></a></p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="winnt-module-conf-hints"></a>2.2.22.&nbsp;Hints For the Windows NT Authentication Module</h3></div></div></div><p>The Windows NT module lets OpenAM authenticate against a Microsoft
    Windows NT server.</p><p>This module requires that you install a Samba client in a
    <code class="filename">bin</code> directory under the OpenAM configuration directory
    such as <code class="filename">$HOME/openam/openam/bin</code>.</p><a class="indexterm" name="d0e5401"></a><p><span class="command"><strong>ssoadm</strong></span> service name:
    <code class="literal">iPlanetAMAuthNTService</code></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Authentication Domain</span></dt><dd><p>Specify the Windows domain name to which users belong.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-nt-domain</code></p></dd><dt><span class="term">Authentication Host</span></dt><dd><p>Specify the NetBIOS name of the Windows NT host to which to
    authenticate users.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-nt-host</code></p></dd><dt><span class="term">Samba Configuration File Name</span></dt><dd><p>Specify the full path to the Samba configuration file.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-samba-config-file-name</code></p></dd><dt><span class="term">Authentication Level</span></dt><dd><p>Sets the authentication level used to indicate the level of security
    associated with the module. The value can range from 0 to any positive integer.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">iplanet-am-auth-nt-auth-level</code></p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="wss-module-conf-hints"></a>2.2.23.&nbsp;Hints For the WSSAuth Authentication Module</h3></div></div></div><p>The Web Service Security (WSSAuth) module lets OpenAM validate a
    user name, password combination received as an authentication token in
    a request from a Web Service Client to a Web Service Provider.</p><a class="indexterm" name="d0e5466"></a><p><span class="command"><strong>ssoadm</strong></span> service name:
    <code class="literal">sunAMAuthWSSAuthModuleService</code></p><div class="variablelist"><dl class="variablelist"><dt><span class="term">User search attribute</span></dt><dd><p>Specify a user attribute to search for a user. Default is
    <code class="literal">uid</code>.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunWebservicesUserSearchAttribute</code></p></dd><dt><span class="term">User realm</span></dt><dd><p>Specify the realm to which users belong. For the OpenAM Security
    Token Service, this is <code class="literal">/</code>.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunWebServicesUserRealm</code></p></dd><dt><span class="term">User password attribute</span></dt><dd><p>Specify the password attribute or that of the password equivalent.
    The default is <code class="literal">userPassword</code>.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunWebservicesUserPasswordAttribute</code></p></dd><dt><span class="term">Authentication Level</span></dt><dd><p>Sets the authentication level used to indicate the level of security
    associated with the module. The value can range from 0 to any positive integer.</p><p><span class="command"><strong>ssoadm</strong></span> attribute:
    <code class="literal">sunWebservicesAuthenticationLevel</code></p></dd></dl></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="configure-authn-chains"></a>2.3.&nbsp;Configuring Authentication Chains</h2></div></div></div><a class="indexterm" name="d0e5539"></a><p>Once you have configured authentication modules, and added the modules
    to the list of module instances, you can configure authentication chains.
    Authentication chains let you handle situations where alternative modules
    are needed, or where a single set of credentials is not sufficient.</p><div class="procedure"><a name="create-authn-chain"></a><div class="procedure-title">Procedure&nbsp;2.1.&nbsp;To Create an Authentication Chain</div><ol class="procedure" type="1"><li class="step"><p>On the Access Control tab page of the OpenAM console, click the
    realm for which to create the authentication chain.</p></li><li class="step"><p>On the Authentication tab page for the realm, scroll to the bottom
    of the page, and click the New button in the Authentication Chaining
    table.</p></li><li class="step"><p>Give the new authentication chain a name, and add instances of the
    modules to use in the chain.</p></li><li class="step"><p>Assign appropriate criteria (optional, required, requisite, sufficient)
    as described above in <a class="xref" href="ch02.html#what-is-authn" title="2.1.&nbsp;About Authentication in OpenAM">Section&nbsp;2.1, &#8220;About Authentication in OpenAM&#8221;</a>. You can also
    configure where OpenAM redirects the user upon successful and failed
    authentication, and plug in your post-authentication processing classes
    as necessary.</p></li><li class="step"><p>If you need modules in the chain to share user credentials, then set
    options for the module.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="option">iplanet-am-auth-shared-state-enabled</code></span></dt><dd><p>Set <code class="literal">iplanet-am-auth-shared-state-enabled=true</code>
    to allow subsequent modules in the authentication chain to use
    the credentials, such as user name and password, captured by this
    module. (Default: <code class="literal">true</code>)</p></dd><dt><span class="term"><code class="option">iplanet-am-auth-store-shared-state-enabled</code></span></dt><dd><p>Set <code class="literal">iplanet-am-auth-store-shared-state-enabled=true</code>
    to store the captured credentials. Shared state is cleared when the
    user successfully authenticates, quits the chain, or logs out.
    (Default: <code class="literal">false</code>)</p></dd><dt><span class="term"><code class="option">iplanet-am-auth-shared-state-behavior-pattern</code></span></dt><dd><p>Set <code class="literal">iplanet-am-auth-shared-state-behavior-pattern=tryFirstPass</code>
    (the default) to try authenticating with the captured password. If
    authentication fails, then OpenAM prompts the user for the credentials
    again.</p><p>Set <code class="literal">iplanet-am-auth-shared-state-behavior-pattern=useFirstPass</code>
    to authenticate with the captured password. If authentication fails,
    then the module fails.</p></dd></dl></div><p>For example, consider a chain with two modules sharing credentials
    according to the default settings. The first module in the chain has the
    option <code class="literal">iplanet-am-auth-shared-state-enabled=true</code>, and
    criteria <code class="literal">REQUIRED</code>. The second module in the chain has
    options <code class="literal">iplanet-am-auth-shared-state-enabled=true</code>,
    <code class="literal">iplanet-am-auth-shared-state-behavior-pattern=tryFirstPass</code>,
    and criteria <code class="literal">REQUIRED</code>. A successful authentication
    sequence happens as follows. The user enters her credentials for the first
    module, successfully authenticating. The first module shares the
    credentials with the second module, successfully authenticating the user
    without prompting again for her credentials, unless the credentials for
    the first module do not successfully authenticate here to the second
    module. Just be sure to separate the options with a space and not a comma.</p></li><li class="step"><p>Save your work.</p></li></ol></div><div class="procedure"><a name="set-default-authn-chain"></a><div class="procedure-title">Procedure&nbsp;2.2.&nbsp;To Select the Default Chain</div><p>Before you select the default chain for users, and especially for
    administrators, test the authentication chain first. For example,
    <code class="literal">http://openam.example.com:8080/openam/UI/Login?service=NewChain</code>.
    If you cannot log in, then go back and fix the authentication chain's
    configuration before making it the default.</p><ol class="procedure" type="1"><li class="step"><p>On the Access Control tab page of the OpenAM console, click the
    realm for which to set the default authentication chain.</p></li><li class="step"><p>If necessary, on the Authentication tab page for the realm, adjust
    the drop-down lists for Organization Authentication Configuration and
    Administrator Authentication Configuration to the appropriate
    authentication chains.</p><p>The Organization Authentication Configuration serves when users
    access <code class="literal">/openam/UI/Login</code>.</p><p>The Administrator Authentication Configuration serves when users
    access <code class="literal">/openam/console</code>.</p><p>You can set these independently to separate administrative login
    from user login. For example, you can change the default user chain, but
    leave the default administrator chain as is to avoid locking yourself
    out as administrator. By default, <code class="literal">amadmin</code> can login at
    <code class="literal">/openam/UI/Login</code>. You can change that for your
    deployment.</p></li><li class="step"><p>Save your work.</p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="authn-post-auth-plugins"></a>2.4.&nbsp;Post Authentication Plugins</h2></div></div></div><a class="indexterm" name="d0e5667"></a><p>Post authentication plugins include custom processing at the end of the
    authentication process, immediately before the subject is authenticated.
    Common uses of post authentication plugins include setting cookies and
    session variables. Post authentication plugins are often used in conjunction
    with policy agents. The post authentication plugin sets custom session
    properties, and then the policy agent injects the custom properties into the
    request header to the protected application.</p><p>In the OpenAM console, you add post authentication plugins to an
    authentication chain. Navigate to Access Control &gt; <em class="replaceable"><code>Realm
        Name</code></em> &gt; Authentication &gt; Authentication Chaining &gt;
    <em class="replaceable"><code>Auth Chain Name</code></em>. Scroll down to the Post Authentication
    Processing Class list.</p><div class="variablelist"><div class="variablelist-title">Standard Post Authentication Plugins</div><p>OpenAM provides some post authentication plugins as part of the
    standard product delivery.</p><dl class="variablelist"><dt><span class="term">Class name: <code class="literal">org.forgerock.openam.authentication.modules.adaptive.Adaptive</code></span></dt><dd><p>The adaptive authentication plugin serves to save cookies and profile
    attributes after successful authentication.</p><p>Add it to your authentication chains that use the adaptive
    authentication module configured to save cookies and profile
    attributes.</p></dd><dt><span class="term">Class name: <code class="literal">org.forgerock.openam.authentication.modules.oauth2.OAuth2PostAuthnPlugin</code></span></dt><dd><p>The OAuth 2.0 post authentication plugin builds a global logout URL
    used by <code class="filename">/oauth2c/OAuthLogout.jsp</code> after successful
    OAuth 2.0 client authentication. This logs the resource owner out
    with the OAuth 2.0 provider when logging out of OpenAM.</p><p>Before using this plugin, configure the OAuth 2.0 authentication
    module with the correct OAuth 2.0 Provider logout service URL, and set
    the Logout options to Log out or Prompt. This plugin cannot succeed unless
    those parameters are correctly set.</p><p>Sometimes OAuth 2.0 providers change their endpoints, including
    their logout URLs. When using a provider like Facebook, Google, or MSN
    make sure you are aware when they change their endpoint locations so that
    you can change your client configuration accordingly.</p></dd><dt><span class="term">Class name: <code class="literal">org.forgerock.openam.authentication.plugins.AccountExpirePlugin</code></span></dt><dd><p>The account expiration post authentication plugin sets an account
    expiration date after successful authentication. OpenAM uses this to
    prevent expired accounts from being used to authenticate.</p><p>The default of 30 days can be changed using the advanced OpenAM
    server property,
    <code class="literal">org.forgerock.openam.authentication.accountExpire.days</code>.</p></dd></dl></div><p>If necessary, you can also write your own custom post authentication
    plugin as described in the <em class="citetitle">Developer's Guide</em> chapter
    on <span class="olink"><em class="citetitle">Creating a Post
  Authentication Plugin</em></span>.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="authn-from-browser"></a>2.5.&nbsp;Authenticating To OpenAM</h2></div></div></div><p>This section explains how to connect to OpenAM for user authentication
    by adding parameters to the login URL when testing your configuration.</p><p>The base URL to authenticate to OpenAM points to
    <code class="literal">/UI/Login</code> under the deployment URL, such as
    <code class="literal">http://openam.example.com:8080/openam/UI/Login</code>.
    <a href="#ftn.d0e5747" class="footnote" name="d0e5747"><sup class="footnote">[4]</sup></a> You can, however, specify parameters in the query string
    of the URL to request a specific authentication configuration. For example,
    <code class="literal">http://openam.example.com:8080/openam/UI/Login?module=LDAP</code>
    requests that OpenAM use the LDAP authentication module.</p><div class="variablelist"><p>OpenAM accepts the following parameters in the query string. With
    the exception of <code class="literal">IDToken</code> parameters, use no more than
    one occurrence of each.</p><div class="note"><h4 class="title">Note</h4><p>The way you enter parameters depends on whether you are using the
    classic UI or the XUI. For example, if you want to request that OpenAM end the
    user's current session and start a new session in the classic UI, you might enter
    a URL similar to: <code class="literal">http://openam.example.com:8080/openam/UI/Login?locale=fr</code>.
    Alternatively, for the JavaScript-based XUI, the corresponding URL would be subtly different:
    <code class="literal">http://openam.example.com:8080/openam/XUI/#login/&amp;arg=newsession</code>.
</p></div><dl class="variablelist"><dt><span class="term">arg=newsession</span></dt><dd><p>Request that OpenAM end the user's current session and start a
    new session.</p></dd><dt><span class="term">authlevel</span></dt><dd><p>Request that OpenAM authenticate the user using a module with at
    least the specified authentication level that you have configured.</p><p>As this parameter determines authentication module selection, do
    not use it with <code class="literal">module</code>, <code class="literal">service</code>,
    or <code class="literal">user</code>.</p></dd><dt><span class="term">ForceAuth</span></dt><dd><p>If <code class="literal">ForceAuth=true</code>, request that OpenAM force the
    user to authenticate even if she already has a valid session. On
    successful authentication, OpenAM updates the session token.</p></dd><dt><span class="term">goto</span></dt><dd><p>On successful authentication, or successful logout, request that
    OpenAM redirect the user to the specified location. Values must be
    URL encoded.</p></dd><dt><span class="term">gotoOnFail</span></dt><dd><p>On authentication failure, request that OpenAM redirect the user to
    the specified location. Values must be URL encoded.</p></dd><dt><span class="term">IDToken1, IDToken2, ..., IDTokenN</span></dt><dd><p>Pass the specified credentials as <code class="literal">IDToken</code>
    parameters in the URL. The <code class="literal">IDToken</code> credentials map
    to the fields in the login page for the authentication module, such as
    <code class="literal">IDToken1</code> as user ID and <code class="literal">IDToken2</code>
    as password for basic user name, password authentication. The order
    depends on the callbacks in login page for the module;
    <code class="literal">IDTokenN</code> represents the N<sup>th</sup>
    callback of the login page.</p></dd><dt><span class="term">iPSPCookie=yes</span></dt><dd><p>Applicable only if you configure persistent cookies based on
    <a class="xref" href="ch02.html#auth-core-persistent-cookie" title="2.2.5.3.&nbsp;Core - Persistent Cookie (Legacy)">Section&nbsp;2.2.5.3, &#8220;Core - Persistent Cookie (Legacy)&#8221;</a></p><p>Request that OpenAM return a persistent cookie that remains in the
    browser after the browser is closed, allowing the user to login again
    without being prompted for credentials. This only works if you have
    configured persistent cookie mode for the realm where the user logs
    in.</p><p>OpenAM sets an <code class="literal">DProPCookie</code> that persists until
    expiry. The following screen shot shows an example.</p><div class="mediaobject" align="center"><a name="figure-persistent-dpropcookie"></a><img src="images/persistent-dpropcookie.png" align="middle" height="360" alt="DProPCookie shown in the browser"></div><p>An alternative persistent cookie mechanism extends the lifetime of
    the normal <code class="literal">iPlanetDirectoryPro</code> using the advanced
    server settings, <code class="literal">openam.session.persist_am_cookie</code>
    or <code class="literal">openam.session.allow_persist_am_cookie</code>, and
    <code class="literal">com.iplanet.am.cookie.timeToLive</code>.</p><p>To set the mechanism globally for the server, browse in the OpenAM
    console to Configuration &gt; Servers and Sites &gt; <em class="replaceable"><code>Server
        Name</code></em> &gt; Advanced, and then set
    <code class="literal">openam.session.persist_am_cookie</code> to
    <code class="literal">true</code> and
    <code class="literal">com.iplanet.am.cookie.timeToLive</code> to the cookie lifetime
    in seconds.</p><p>To allow users to use this mechanism on a per-session basis,
    browse in the OpenAM console to Configuration &gt; Servers and
    Sites &gt; <em class="replaceable"><code>Server Name</code></em> &gt; Advanced, and then
    set <code class="literal">openam.session.allow_persist_am_cookie</code> to
    <code class="literal">true</code> and
    <code class="literal">com.iplanet.am.cookie.timeToLive</code> to the cookie lifetime
    in seconds. (If the OpenAM .war deployed does not include the console, set
    these properties in the .properties configuration file.) Also configure
    the session properties either globally under Configuration &gt; Global
    &gt; Session &gt; Dynamic Attributes, or per realm under Access Control
    &gt; <em class="replaceable"><code>Realm Name</code></em> &gt; Services &gt; Session.
    Then, to request the cookie, use
    <code class="literal">openam.session.persist_am_cookie=Yes</code> as one of the
    query string parameters in the login URL.</p><div class="note"><h4 class="title">Note</h4><p>Neither the XUI nor the Persistent Cookie
    module supports the deprecated <code class="literal">iPSPCookie</code>.</p></div></dd><dt><span class="term">locale</span></dt><dd><p>Request that OpenAM display the user interface in the specified,
    supported locale. Locale can also be set in the user's profile, in
    the HTTP header from her browser, configured in OpenAM, and so on.</p></dd><dt><span class="term">module</span></dt><dd><p>Request that OpenAM use the authentication module instance as
    configured for the realm where the user is authenticating.</p><p>As this parameter determines authentication module selection, do
    not use it with <code class="literal">authlevel</code>, <code class="literal">service</code>,
    or <code class="literal">user</code>.</p></dd><dt><span class="term">realm</span></dt><dd><p>Request that OpenAM authenticate the user to the specified realm.</p></dd><dt><span class="term">service</span></dt><dd><p>Request that OpenAM authenticate the user with the specified
    authentication chain.</p><p>As this parameter determines authentication module selection, do
    not use it with <code class="literal">authlevel</code>, <code class="literal">module</code>,
    or <code class="literal">user</code>.</p></dd><dt><span class="term">user</span></dt><dd><p>Request that the user, specified by her OpenAM universal ID,
    authenticate according to the chain specified in her profile.</p><p>As this parameter determines authentication module selection, do
    not use it with <code class="literal">authlevel</code>, <code class="literal">module</code>,
    or <code class="literal">service</code>.</p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="configure-account-lockout"></a>2.6.&nbsp;Configuring Account Lockout</h2></div></div></div><a class="indexterm" name="d0e5980"></a><div class="itemizedlist"><p>OpenAM supports two different approaches to <em class="firstterm">account
    lockout</em>, where OpenAM locks an account after repeated
    authentication failures. Lockout works with modules for which users
    can enter a password incorrectly.</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Memory lockout locks the user account, keeping track of the locked
    state only in memory, and then unlocking the account after a specified
    delay. Memory lockout is also released when OpenAM restarts.</p></li><li class="listitem"><p>Persistent (physical) lockout sets the user account status to
    <code class="literal">inactive</code> in the user profile. For persistent lockout,
    OpenAM tracks failed authentication attempts by writing to the user
    repository.</p><p>Persistent account lockout works independently of account lockout
    mechanisms in the underlying directory server that serves as the user
    data store.</p></li></ul></div><div class="itemizedlist"><p>You configure account lockout by editing settings for the <span class="olink">core authentication
   module</span>. Access the settings in OpenAM console under Access Control
    &gt; <em class="replaceable"><code>Realm Name</code></em> &gt; Authentication &gt; All
    Core Settings..., and then scroll down to the Account Lockout section.
    The inline help explains the settings in detail.</p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Enable lockout by checking Login Failure Lockout Mode, setting
    the number of attempts, and setting the lockout interval and
    duration.</p><p>You can also opt to warn users after several consecutive failures,
    or to multiply the lockout duration on each successive lockout.</p></li><li class="listitem"><p>You can set up email notification upon lockout to an administrator
    if OpenAM is configured to send mail. (Configuration &gt; Servers and Sites &gt;
    Default Server Settings &gt; General &gt; Mail Server.)</p></li><li class="listitem"><p>For persistent lockout, OpenAM sets the value of the user's
    <code class="literal">inetuserstatus</code> profile attribute to
    <code class="literal">inactive</code>. You can also specify another attribute to
    update on lockout. You can further set a non-default attribute on which
    to store the number of failed authentication attempts. When you do store
    the number of failed attempts in the data store, other OpenAM servers
    accessing the user data store can also see the number.</p></li></ul></div><p>If you need to unlock a user's account, find the user under Access
    Control &gt; <em class="replaceable"><code>Realm Name</code></em> &gt; Subjects &gt; User,
    set the user's User Status to Active, and click Save.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="configure-session-quotas"></a>2.7.&nbsp;Configuring Session Quotas</h2></div></div></div><a class="indexterm" name="d0e6034"></a><p>OpenAM lets you limit the number of active sessions for a user by
    setting session quotas. You also configure session quota exhaustion actions
    so that when a user goes beyond the session quota, OpenAM takes the
    appropriate action.</p><div class="important"><h4 class="title">Important</h4><p>To enforce session quotas across multiple servers in a site, configure
    session failover as described in the <em class="citetitle">Installation Guide</em>
    chapter, <span class="olink"><em class="citetitle">Setting Up OpenAM
   Session Failover</em></span>.</p></div><div class="procedure"><a name="session-quotas-and-exhaustion-actions"></a><div class="procedure-title">Procedure&nbsp;2.3.&nbsp;To Configure Session Quotas &amp; Exhaustion Actions</div><p>The session quota applies to all sessions opened for the same
    user (as represented by the user's universal identifier).</p><ol class="procedure" type="1"><li class="step"><p>Log in to OpenAM Console as administrator, and then browse to
    Configuration &gt; Global &gt; Session.</p></li><li class="step"><p>Set Enable Quota Constraints to <code class="literal">ON</code>.</p></li><li class="step"><p>Set Resulting behavior if session quota exhausted.</p><div class="variablelist"><p>The following settings are available by default.</p><dl class="variablelist"><dt><span class="term"><code class="literal">DENY_ACCESS</code></span></dt><dd><p>Deny access, preventing the user from creating an additional
    session.</p></dd><dt><span class="term"><code class="literal">DESTROY_NEXT_EXPIRING</code></span></dt><dd><p>Remove the next session to expire, and create a new session for
    the user. The next session to expire is the session with the minimum
    time left until expiration.</p><p>This is the default setting.</p></dd><dt><span class="term"><code class="literal">DESTROY_OLDEST_SESSION</code></span></dt><dd><p>Remove the oldest session, and create a new session for the
    user.</p></dd><dt><span class="term"><code class="literal">DESTROY_OLD_SESSIONS</code></span></dt><dd><p>Remove all existing sessions, and create a new session for the
    user.</p></dd></dl></div><p>If none of these session quota exhaustion actions fit your deployment,
    you can implement a custom session quota exhaustion action. See the
    <em class="citetitle">Developer's Guide</em> chapter on <span class="olink"><em class="citetitle">Customizing
   Session Quota Exhaustion Actions</em></span> for an example.</p></li><li class="step"><p>Set Active User Sessions to the session quota.</p><p>The default is 5 sessions.</p></li><li class="step"><p>Save your work.</p></li><li class="step"><p>If you have multiple servers but session failover is not configured,
    configure multi-server mode as described below.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>If you have only a single OpenAM server, skip this step. OpenAM
    enforces the session quota you set for the server.</p></li><li class="listitem"><p>If you have multiple servers with session failover configured, then
    also skip this step. In this case OpenAM uses the session store to enforce
    session quotas globally across your deployment. In other words when the
    Set Active User Sessions is 5, a user can have a maximum of 5 active
    sessions.</p></li><li class="listitem"><p>If you have multiple OpenAM servers but session failover is not
    configured, configure multi-server mode for session quotas. Browse to
    Configuration &gt; Servers and Sites &gt; Default Server Settings or
    Configuration &gt; Servers and Sites &gt; <em class="replaceable"><code>Server
        Name</code></em>, and then use the Advanced tab page to set the
    following advanced server property.</p><div class="literallayout"><p>openam.session.useLocalSessionsInMultiServerMode&nbsp;=&nbsp;true</p></div><p>When you set this property to <code class="literal">true</code> for your OpenAM
    servers, users can potentially reach the session quota for each individual
    server before all session quotas are exhausted. In other words if you have
    4 OpenAM servers and Set Active User Sessions is 5, then the user can have
    a maximum of 20 (5 * 4) sessions.</p></li></ul></div></li></ol></div></div><div class="footnotes"><br><hr class="footnote-hr"><div id="ftn.d0e542" class="footnote"><p><a href="#d0e542" class="para"><sup class="para">[3] </sup></a>The four flags, required, optional, requisite, and sufficient, come from
    the standards created for the Java Authentication and Authorization Service
    (JAAS).</p></div><div id="ftn.d0e5747" class="footnote"><p><a href="#d0e5747" class="para"><sup class="para">[4] </sup></a>The base URL to logout is similar, for example
    <code class="literal">http://openam.example.com:8080/openam/UI/Logout</code>.</p></div></div></div></body></html>